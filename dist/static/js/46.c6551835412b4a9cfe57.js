webpackJsonp([46],{"1+W3":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el-color-svpanel",style:{backgroundColor:t.background}},[a("div",{staticClass:"el-color-svpanel__white"}),t._v(" "),a("div",{staticClass:"el-color-svpanel__black"}),t._v(" "),a("div",{staticClass:"el-color-svpanel__cursor",style:{top:t.cursorTop+"px",left:t.cursorLeft+"px"}},[a("div")])])},o=[],n={render:s,staticRenderFns:o};e.a=n},"2xuc":function(t,e,a){"use strict";var s=a("4YfN"),o=a.n(s),n=a("4MU/"),r=a("l18b"),i=a("lQSI");e.a={props:{},created:function(){},ready:function(){},data:function(){return{data:{btnText:"隐藏附注",isShow:!0,metadata:{},spec:{to:{},port:{}}},value:"操作",btnText:"隐藏附注",isShow:!0,options:[{value:"create",label:"创建路由"},{value:"edit",label:"编辑YAML"},{value:"del",label:"删除"}],annotations:[]}},beforeMount:function(){this.change(this.$route.path);var t=this;console.log(t.$route),this.$ajax.get(this.$httpConfig.route_detail.replace("{projectName}",t.$route.params.disName).replace("{routeName}",t.$route.query.route)).then(function(e){console.log(e.data);var a=e.data;a.timeago=t.timeago.format(a.metadata.creationTimestamp,"zh_CN");for(var s in a.metadata.annotations)t.annotations.push({key:s,value:a.metadata.annotations[s]});t.$set(t,"data",a)}).catch(function(t){console.log(t)})},components:{ElButton:r.a,ElSlPanel:n.a},filters:{},methods:o()({},a.i(i.c)(["change"]),{showToggle:function(){this.isShow=!this.isShow,this.isShow?this.btnText="隐藏附注":this.btnText="显示附注"},handleSelect:function(t,e,a){var s=this;"1"==e.$attrs.index?this.$router.push({name:"创建路由",query:{route:this.$route.query.route}}):"2"==e.$attrs.index?this.$router.push({name:"编辑YAML",query:{estate:1,route:this.$route.query.route}}):"3"==e.$attrs.index&&this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){var t=s;t.$ajax.delete(t.$httpConfig.route_detail.replace("{projectName}",t.$route.params.disName).replace("{routeName}",t.$route.query.route)).then(function(e){t.$message({type:"success",message:"删除成功!"}),t.$router.go(-1)}).catch(function(e){console.log(e),t.$message({type:"error",message:"删除失败!"})})}).catch(function(){that.$message({type:"info",message:"已取消删除"})})}}),computed:{},watch:{}}},"4MU/":function(t,e,a){"use strict";var s=a("JBPR"),o=a("1+W3"),n=a("J0+h"),r=n(s.a,o.a,null,null,null);e.a=r.exports},AQZG:function(t,e,a){var s=a("bh8+");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("XkoO")("6aa88240",s,!0)},"C+Au":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"detail-title"},[a("el-col",{attrs:{span:14}},[a("div",[a("div",{staticClass:"f18 mt10"},[t._v(t._s(t.data.metadata.name))]),t._v(" "),a("div",{staticClass:"mt10 f13 color6"},[t._v("创建于"+t._s(t.data.timeago))])])]),t._v(" "),a("el-col",{staticClass:"tr",attrs:{span:10}},[a("div",{staticClass:"btn110 mt20"},[a("el-dropdown",{on:{"menu-item-click":t.handleSelect}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n\t\t\t\t\t    操作"),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{slot:"dropdown"},[a("el-dropdown-item",{attrs:{index:"1"}},[t._v("编辑")]),t._v(" "),a("el-dropdown-item",{attrs:{index:"2"}},[t._v("编辑YAML")]),t._v(" "),a("el-dropdown-item",{attrs:{index:"3"}},[t._v("删除")])],1)],1)],1)])],1),t._v(" "),a("div",{staticClass:"mt40"},[a("div",{staticClass:"content-mar"},[a("span",[t._v("域名：")]),t._v(" "),a("span",{staticClass:"span-color"},[t._v(t._s(t.data.spec.host))]),a("span",[t._v("/- 2个小时前在路由器上暴露")])]),t._v(" "),a("div",{staticClass:"mt20"},[a("span",[t._v("路径：")]),t._v(" "),a("span",[t._v(t._s(t.data.spec.path))])]),t._v(" "),a("div",{staticClass:"mt20"},[a("span",[t._v("服务：")]),t._v(" "),a("span",[a("router-link",{staticClass:"blue-color",attrs:{to:{name:"服务详情",query:{service:t.data.spec.to.name}}}},[t._v(" "+t._s(t.data.spec.to.name))])],1)]),t._v(" "),a("div",{staticClass:"mt20"},[a("span",[t._v("目标端口：")]),t._v(" "),a("span",{staticClass:"span-color"},[t._v(t._s(t.data.spec.port?t.data.spec.port.targetPort:"any"))]),t._v(" "),t.data.spec.port?a("span",{staticClass:"tips ml10"},[t._v("目标端口将路由到服务端口->容器端口"+t._s(t.data.spec.port.targetPort))]):t._e()]),t._v(" "),a("div",{staticClass:"mt20"},[a("span",[t._v("TLS设置：")]),t._v(" "),a("span",{staticClass:"tips ml10"},[t._v(t._s(t.data.spec.tls?t.data.spec.tls:"这个路由器上没有启用TLS"))])]),t._v(" "),a("div",{staticClass:"mt30"},[a("el-button",{staticClass:"shade-button",domProps:{textContent:t._s(t.btnText)},on:{click:t.showToggle}})],1),t._v(" "),t._l(t.annotations,function(e,s){return a("div",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"footer mt30"},[a("div",{staticClass:"mt15"},[a("span",{staticClass:" ml20"},[t._v(t._s(e.key))]),t._v(" "),a("span",{staticClass:" mar-big"},[t._v(t._s(e.value))])])])})],2)],1)},o=[],n={render:s,staticRenderFns:o};e.a=n},HQPZ:function(t,e,a){"use strict";function s(t){a("AQZG")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("2xuc"),n=a("C+Au"),r=a("J0+h"),i=s,c=r(o.a,n.a,i,"data-v-8bd2282e",null);e.default=c.exports},Ijym:function(t,e,a){"use strict";var s=a("UFcW"),o=!1;e.a=function(t,e){if(!s.default.prototype.$isServer){var a=function(t){e.drag&&e.drag(t)},n=function t(s){document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",t),document.onselectstart=null,document.ondragstart=null,o=!1,e.end&&e.end(s)};t.addEventListener("mousedown",function(t){o||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},document.addEventListener("mousemove",a),document.addEventListener("mouseup",n),o=!0,e.start&&e.start(t))})}}},JBPR:function(t,e,a){"use strict";var s=a("Ijym");e.a={name:"el-sl-panel",props:{color:{required:!0}},computed:{colorValue:function(){return{hue:this.color.get("hue"),value:this.color.get("value")}}},watch:{colorValue:function(){this.update()}},methods:{update:function(){var t=this.color.get("saturation"),e=this.color.get("value"),a=this.$el,s=a.getBoundingClientRect(),o=s.width,n=s.height;n||(n=3*o/4),this.cursorLeft=t*o/100,this.cursorTop=(100-e)*n/100,this.background="hsl("+this.color.get("hue")+", 100%, 50%)"},handleDrag:function(t){var e=this.$el,a=e.getBoundingClientRect(),s=t.clientX-a.left,o=t.clientY-a.top;s=Math.max(0,s),s=Math.min(s,a.width),o=Math.max(0,o),o=Math.min(o,a.height),this.cursorLeft=s,this.cursorTop=o,this.color.set({saturation:s/a.width*100,value:100-o/a.height*100})}},mounted:function(){var t=this;a.i(s.a)(this.$el,{drag:function(e){t.handleDrag(e)},end:function(e){t.handleDrag(e)}}),this.update()},data:function(){return{cursorTop:0,cursorLeft:0,background:"hsl(0, 100%, 50%)"}}}},"bh8+":function(t,e,a){e=t.exports=a("YfG4")(!1),e.push([t.i,".footer[data-v-8bd2282e]{width:910px;height:50px;background-color:#f9f9f9;border-bottom:1px solid #e5e5e5;border-top:1px solid #e5e5e5}.mt15[data-v-8bd2282e]{margin-top:15px}.span-color[data-v-8bd2282e]{color:#009ee0}.mar-big[data-v-8bd2282e]{margin-left:100px}.tips[data-v-8bd2282e]{margin-bottom:-5px;width:800px;font-size:12px;color:#666;line-height:normal}.BlackPoint[data-v-8bd2282e]{width:3px;height:3px;border:1px solid #000;background-color:#fbfbfb;margin-left:200px}",""])}});