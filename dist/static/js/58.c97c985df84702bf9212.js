webpackJsonp([58],{"3cXf":function(t,e,a){t.exports={default:a("I4CF"),__esModule:!0}},BSMT:function(t,e,a){e=t.exports=a("YfG4")(!1),e.push([t.i,"",""])},I4CF:function(t,e,a){var i=a("0nnt"),n=i.JSON||(i.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},S5VS:function(t,e,a){"use strict";var i=a("4YfN"),n=a.n(i),s=a("3cXf"),r=a.n(s),o=a("lQSI");a("Q0Ca");e.a={props:{},created:function(){},ready:function(){this.template=JSON.parse(r()(this.template))},data:function(){return{tableKey:0,listLoading:!1,template:{},list:10,total:100,listQuery:{page:1,limit:20,importance:void 0,title:void 0,type:void 0,sort:"+id"},imageName:"",tableData:[]}},beforeMount:function(){var t=this;this.$ajax.get(this.$httpConfig.images.replace("{projectName}",t.$route.params.disName)).then(function(e){console.log(e.data);for(var a=0;a<e.data.items.length;a++){var i=e.data.items[a];t.tableData.push({name:i.metadata.name,tag:i.status.tags[0].tag,dockerImageRepository:"https://"+i.status.dockerImageRepository,creationTimestamp:t.timeago.format(i.metadata.creationTimestamp,"zh_CN")})}}).catch(function(t){console.log(t)})},components:{},filters:{},methods:{filterImagestreams:function(){var t=this;console.log(this.imageName),this.$ajax.get(this.$httpConfig.image_detail.replace("{projectName}",this.$route.params.disName).replace("{imageName}",this.imageName)).then(function(e){var a=e.data;if(t.tableData=[],"ImageStream"==a.kind)t.tableData.push({name:a.metadata.name,tag:a.status.tags[0].tag,dockerImageRepository:"https://"+a.status.dockerImageRepository,creationTimestamp:t.timeago.format(a.metadata.creationTimestamp,"zh_CN")});else if("ImageStreamList"==a.kind)for(var i=0;i<e.data.items.length;i++){var n=e.data.items[i];t.tableData.push({name:n.metadata.name,tag:n.status.tags[0].tag,dockerImageRepository:"https://"+n.status.dockerImageRepository,creationTimestamp:t.timeago.format(n.metadata.creationTimestamp,"zh_CN")})}})},handleClick:function(t,e,a){this.$router.push({name:"镜像详情",query:{imageName:t.name}})},handleSizeChange:function(t){this.listQuery.limit=t,this.getList()},handleCurrentChange:function(t){this.listQuery.page=t,this.getList()}},computed:n()({},a.i(o.b)(["localpath"])),watch:{}}},oa2Q:function(t,e,a){"use strict";function i(t){a("zIh+")}Object.defineProperty(e,"__esModule",{value:!0});var n=a("S5VS"),s=a("yx+J"),r=a("J0+h"),o=i,l=r(n.a,s.a,o,"data-v-17df641c",null);e.default=l.exports},"yx+J":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[t.$route.path!=t.localpath?a("div",[a("el-row",{staticClass:"fr",attrs:{gutter:20}},[a("el-col",{},[a("div",{staticClass:"input-btn"},[a("el-input",{attrs:{placeholder:"按镜像名称过滤"},model:{value:t.imageName,callback:function(e){t.imageName=e},expression:"imageName"}}),t._v(" "),a("el-button",{staticClass:"ml10",on:{click:t.filterImagestreams}},[t._v("过滤")])],1)])],1),t._v(" "),a("div",{staticClass:"clearfix"}),t._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.listLoading,expression:"listLoading"}],key:t.tableKey,staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"element-loading-text":"给我一点时间",stripe:"","highlight-current-row":""},on:{"cell-click":t.handleClick}},[a("el-table-column",{attrs:{prop:"name",label:"镜像名称",width:"180","header-align":"center",align:"center","class-name":"blue-color"}}),t._v(" "),a("el-table-column",{attrs:{prop:"tag",label:"Tag",width:"250","header-align":"center",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"dockerImageRepository",label:"镜像仓库信息","header-align":"center",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"creationTimestamp",label:"创建时间","header-align":"center",align:"center"}})],1)],1):t._e(),t._v(" "),a("router-view")],1)},n=[],s={render:i,staticRenderFns:n};e.a=s},"zIh+":function(t,e,a){var i=a("BSMT");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a("XkoO")("26fd74d1",i,!0)}});