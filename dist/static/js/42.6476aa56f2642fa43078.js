webpackJsonp([42],{"1+W3":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"el-color-svpanel",style:{backgroundColor:t.background}},[a("div",{staticClass:"el-color-svpanel__white"}),t._v(" "),a("div",{staticClass:"el-color-svpanel__black"}),t._v(" "),a("div",{staticClass:"el-color-svpanel__cursor",style:{top:t.cursorTop+"px",left:t.cursorLeft+"px"}},[a("div")])])},o=[],r={render:n,staticRenderFns:o};e.a=r},"3cXf":function(t,e,a){t.exports={default:a("I4CF"),__esModule:!0}},"4MU/":function(t,e,a){"use strict";var n=a("JBPR"),o=a("1+W3"),r=a("J0+h"),s=r(n.a,o.a,null,null,null);e.a=s.exports},"4bdW":function(t,e,a){"use strict";function n(t){a("touP")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("W9cP"),r=a("fp1v"),s=a("J0+h"),i=n,l=s(o.a,r.a,i,"data-v-5fab897d",null);e.default=l.exports},Ds90:function(t,e,a){e=t.exports=a("YfG4")(!1),e.push([t.i,".span-color[data-v-5fab897d]{color:#009ee0}",""])},I4CF:function(t,e,a){var n=a("0nnt"),o=n.JSON||(n.JSON={stringify:JSON.stringify});t.exports=function(t){return o.stringify.apply(o,arguments)}},Ijym:function(t,e,a){"use strict";var n=a("UFcW"),o=!1;e.a=function(t,e){if(!n.default.prototype.$isServer){var a=function(t){e.drag&&e.drag(t)},r=function t(n){document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",t),document.onselectstart=null,document.ondragstart=null,o=!1,e.end&&e.end(n)};t.addEventListener("mousedown",function(t){o||(document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},document.addEventListener("mousemove",a),document.addEventListener("mouseup",r),o=!0,e.start&&e.start(t))})}}},JBPR:function(t,e,a){"use strict";var n=a("Ijym");e.a={name:"el-sl-panel",props:{color:{required:!0}},computed:{colorValue:function(){return{hue:this.color.get("hue"),value:this.color.get("value")}}},watch:{colorValue:function(){this.update()}},methods:{update:function(){var t=this.color.get("saturation"),e=this.color.get("value"),a=this.$el,n=a.getBoundingClientRect(),o=n.width,r=n.height;r||(r=3*o/4),this.cursorLeft=t*o/100,this.cursorTop=(100-e)*r/100,this.background="hsl("+this.color.get("hue")+", 100%, 50%)"},handleDrag:function(t){var e=this.$el,a=e.getBoundingClientRect(),n=t.clientX-a.left,o=t.clientY-a.top;n=Math.max(0,n),n=Math.min(n,a.width),o=Math.max(0,o),o=Math.min(o,a.height),this.cursorLeft=n,this.cursorTop=o,this.color.set({saturation:n/a.width*100,value:100-o/a.height*100})}},mounted:function(){var t=this;a.i(n.a)(this.$el,{drag:function(e){t.handleDrag(e)},end:function(e){t.handleDrag(e)}}),this.update()},data:function(){return{cursorTop:0,cursorLeft:0,background:"hsl(0, 100%, 50%)"}}}},W9cP:function(t,e,a){"use strict";var n=a("4YfN"),o=a.n(n),r=a("3cXf"),s=a.n(r),i=a("4MU/"),l=a("l18b"),c=a("lQSI");e.a={props:{},created:function(){console.log("created"),console.log(this.$route.path),this.change(this.$route.path)},ready:function(){console.log("ready")},data:function(){return{tableKey:0,data:{},tableData:[],value:"操作",options:[{value:"edit",label:"编辑YAML"},{value:"del",label:"删除"}],annotations:[]}},beforeMount:function(){var t=this;console.log(t.$route),this.$ajax.get(this.$httpConfig.image_detail.replace("{projectName}",t.$route.params.disName).replace("{imageName}",t.$route.query.imageName)).then(function(e){console.log("---------------------------"),console.info(s()(e.data));var a=e.data;a.timeago=t.timeago.format(a.metadata.creationTimestamp,"zh_CN");var n=a.status.tags[0];t.tableData.push({latestDockerImage:n.items[0].image,tag:n.tag,latestDockerImageReference:n.items[0].dockerImageReference,creationTimestamp:t.timeago.format(n.items[0].created,"zh_CN")});for(var o in a.metadata.annotations)t.annotations.push({key:o,value:a.metadata.annotations[o]});t.$set(t,"data",a)}).catch(function(t){console.log(t)})},components:{ElButton:l.a,ElSlPanel:i.a},filters:{},methods:o()({},a.i(c.c)(["change"]),{handleSelect:function(t,e,a){console.log(e.$attrs.index),"0"==e.$attrs.index?(console.log(this.$route.query.imageName),this.$router.push({name:"编辑YAML",query:{estate:1,image:this.$route.query.imageName}})):e.$attrs.index},handleClick:function(t,e,a){this.$router.push({name:"镜像历史",query:{imageName:t.name}})}}),computed:{},watch:{}}},fp1v:function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-row",{staticClass:"detail-title"},[a("el-col",{attrs:{span:14}},[a("div",[a("div",{staticClass:"f18 mt10"},[t._v(t._s(t.data.metadata.name))]),t._v(" "),a("div",{staticClass:"mt10 f13 color6"},[t._v("创建于"+t._s(t.data.timeago))])])]),t._v(" "),a("el-col",{staticClass:"tr",attrs:{span:10}},[a("div",{staticClass:"btn110 mt20"},[a("el-dropdown",{on:{"menu-item-click":t.handleSelect}},[a("span",{staticClass:"el-dropdown-link"},[t._v("\n\t\t\t\t\t    操作"),a("i",{staticClass:"el-icon-caret-bottom el-icon--right"})]),t._v(" "),a("el-dropdown-menu",{slot:"dropdown"},[a("el-dropdown-item",{attrs:{index:"0"}},[t._v("编辑YAML")]),t._v(" "),a("el-dropdown-item",{attrs:{index:"1"}},[t._v("删除")])],1)],1)],1)])],1),t._v(" "),a("div",{staticClass:"mt40"},[a("div",{staticClass:"content-mar"},[a("span",[t._v("镜像仓库：")]),t._v(" "),a("span",{staticClass:"span-color"},[t._v(t._s(t.data.status.dockerImageRepository))])]),t._v(" "),a("el-table",{key:t.tableKey,staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:t.tableData,"element-loading-text":"给我一点时间",stripe:"","highlight-current-row":""},on:{"current-change":t.handleClick}},[a("el-table-column",{attrs:{prop:"tag",label:"Tag",width:"180","header-align":"center",align:"center","class-name":"blue-color"}}),t._v(" "),a("el-table-column",{attrs:{prop:"creationTimestamp",label:"创建时间",width:"250","header-align":"center",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"latestDockerImage",label:"最新镜像","header-align":"center",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"latestDockerImageReference",label:"最新镜像信息","header-align":"center",align:"center"}})],1)],1)],1)},o=[],r={render:n,staticRenderFns:o};e.a=r},touP:function(t,e,a){var n=a("Ds90");"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);a("XkoO")("48b0caae",n,!0)}});