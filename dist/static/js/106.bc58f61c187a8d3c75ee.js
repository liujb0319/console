webpackJsonp([106],{"5FGl":function(t,a,e){"use strict";var s=e("4YfN"),l=e.n(s),n=e("lQSI");a.a={props:{},created:function(){},ready:function(){},data:function(){return{key:"",copyData:[],tableData:[]}},beforeMount:function(){var t=this;console.log(t.$route),this.$ajax.get(this.$httpConfig.deploymentconfigs.replace("{projectName}",t.$route.params.disName)).then(function(a){console.log(a.data);for(var e=0;e<a.data.items.length;e++){for(var s=a.data.items[e],l=(s.status.replicas>0?"活动中，":"无活动，")+s.status.replicas+"个副本",n=0;n<s.status.conditions.length;n++)"False"==s.status.conditions[n].status&&(l="失败");var o={date:s.metadata.name,name:0==s.status.latestVersion?"No deployments":"#"+s.status.latestVersion,active_status:0==s.status.latestVersion?"":l,creattime:0==s.status.latestVersion?"":t.timeago.format(s.metadata.creationTimestamp,"zh_CN"),handle:0==s.status.latestVersion?"":s.status.details&&s.status.details.causes&&s.status.details.causes.length>0?s.status.details.causes[0].type:""};t.tableData.push(o),t.copyData.push(o)}}).catch(function(t){console.log(t)})},components:{},filters:{},methods:{getdeployDetail:function(t,a,e){this.$router.push({name:"部署详情",query:{deploy:t.date}})},filterTableData:function(){var t=this.key,a=this.tableData.filter(function(a){return-1!=a.date.toLowerCase().indexOf(t.toLowerCase())});this.copyData.splice(0,this.copyData.length);for(var e=0;e<a.length;e++)this.copyData.push(a[e])}},computed:l()({},e.i(n.b)(["localpath","Icons"])),watch:{}}},Is4t:function(t,a,e){"use strict";function s(t){e("QA9l")}Object.defineProperty(a,"__esModule",{value:!0});var l=e("5FGl"),n=e("s5vY"),o=e("J0+h"),c=s,i=o(l.a,n.a,c,null,null);a.default=i.exports},JS0S:function(t,a,e){a=t.exports=e("YfG4")(!1),a.push([t.i,"",""])},QA9l:function(t,a,e){var s=e("JS0S");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);e("XkoO")("b1d8df7c",s,!0)},s5vY:function(t,a,e){"use strict";var s=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"app-container"},[t.$route.path!=t.localpath?e("div",[e("div",{staticClass:"content-title"},[t._v(" 限制范围")]),t._v(" "),e("el-row",[e("el-col",{staticClass:"tr"},[e("div",{staticClass:"input-btn"},[e("el-input",{attrs:{placeholder:"按名称搜索"},model:{value:t.key,callback:function(a){t.key=a},expression:"key"}}),t._v(" "),e("el-button",{staticClass:"shade-button ml10",on:{click:t.filterTableData}},[t._v("过滤")])],1)])],1),t._v(" "),e("div",{staticClass:"content-container"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.copyData},on:{"cell-click":t.getdeployDetail}},[e("el-table-column",{attrs:{prop:"date",label:"名称",width:"180",align:"center","class-name":"blue-color"}}),t._v(" "),e("el-table-column",{attrs:{prop:"name",label:"最新版本",width:"180",align:"center","class-name":"blue-color"}}),t._v(" "),e("el-table-column",{attrs:{prop:"active_status",label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("icon-svg",{attrs:{"icon-class":t.Icons.refreshIcon}}),t._v(" "),e("span",{staticClass:"ml10"},[t._v(t._s(a.row.active_status))])]}}])}),t._v(" "),e("el-table-column",{attrs:{prop:"creattime",label:"创建时间",align:"center"}}),t._v(" "),e("el-table-column",{attrs:{prop:"handle",label:"触发事件",align:"center"}})],1)],1)],1):t._e(),t._v(" "),e("router-view")],1)},l=[],n={render:s,staticRenderFns:l};a.a=n}});