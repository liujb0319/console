webpackJsonp([63],{"3cXf":function(t,e,s){t.exports={default:s("I4CF"),__esModule:!0}},ARR5:function(t,e,s){"use strict";function l(t){s("GkkS")}Object.defineProperty(e,"__esModule",{value:!0});var a=s("vkoe"),i=s("Sy9I"),o=s("J0+h"),c=l,r=o(a.a,i.a,c,"data-v-427f8c63",null);e.default=r.exports},GkkS:function(t,e,s){var l=s("NJrK");"string"==typeof l&&(l=[[t.i,l,""]]),l.locals&&(t.exports=l.locals);s("XkoO")("76f0bd78",l,!0)},I4CF:function(t,e,s){var l=s("0nnt"),a=l.JSON||(l.JSON={stringify:JSON.stringify});t.exports=function(t){return a.stringify.apply(a,arguments)}},NJrK:function(t,e,s){e=t.exports=s("YfG4")(!1),e.push([t.i,".width120[data-v-427f8c63]{width:120px}.ml16[data-v-427f8c63]{margin-left:16px}.my-label[data-v-427f8c63]{width:90px;text-align:right;margin-right:10px}.my-label1[data-v-427f8c63]{width:100px;text-align:right;margin-right:10px}.ml80[data-v-427f8c63]{margin-left:100px}.ml110[data-v-427f8c63]{margin-left:110px}.my-line[data-v-427f8c63]{line-height:normal}.width156[data-v-427f8c63]{width:156px}.form-bottom[data-v-427f8c63]{margin-bottom:0}.el-line2[data-v-427f8c63]{border-top:1px dashed #e5e5e5}.el-iuput[data-v-427f8c63]{width:350px}.el-top-botom-20[data-v-427f8c63],.el-top-botom-30[data-v-427f8c63]{margin:20px 0}.el-p[data-v-427f8c63]{color:#909490;font-size:12px;margin-top:2px}.el-label[data-v-427f8c63]{color:#333}.el-font-ssm[data-v-427f8c63]{margin-top:10px;color:#333}.textline[data-v-427f8c63]{text-decoration:underline}.w300[data-v-427f8c63]{width:300px}.width115[data-v-427f8c63]{width:115px}.width72[data-v-427f8c63]{width:72px}",""])},Sy9I:function(t,e,s){"use strict";var l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"font-sm el-top-botom-20"},[t._v("部署策略")]),t._v(" "),s("el-form",{ref:"form",attrs:{model:t.form}},[s("el-form-item",{staticClass:"form-bottom red-star1",attrs:{label:"部署策略：","label-width":"100px"}},[s("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:t.deployMethod,callback:function(e){t.deployMethod=e},expression:"deployMethod"}},[t._v("重建")]),t._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"2"},model:{value:t.deployMethod,callback:function(e){t.deployMethod=e},expression:"deployMethod"}},[t._v("滚动更新")]),t._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"3"},model:{value:t.deployMethod,callback:function(e){t.deployMethod=e},expression:"deployMethod"}},[t._v("自定义")])],1),t._v(" "),1==t.deployMethod?s("div",{staticClass:"tips ml80 margin10"},[t._v("重建策略具有基本的推出行为,并且支持将代码注入部署过程的生命周期钩子")]):t._e(),t._v(" "),2==t.deployMethod?s("div",{staticClass:"tips ml80 margin10"},[t._v("滚动策略在容器组准备状态检查通过之后，缩小旧组件的，然后扩展。")]):t._e(),t._v(" "),3==t.deployMethod?s("div",{staticClass:"tips ml80 margin10"},[t._v("自定义策略允许指定容器镜像实现自定义的部署行为")]):t._e(),t._v(" "),3!=t.deployMethod?s("el-form-item",{staticClass:"form-item-bottom"},[s("el-row",[s("el-col",{staticClass:"my-label",attrs:{span:2}},[t._v("超时：")]),t._v(" "),s("el-col",{attrs:{span:7}},[s("el-input",{staticClass:"w300",attrs:{value:"600"}}),t._v(" "),s("div",{staticClass:"tips mt10"},[t._v("一个容器组扩展的超长时间。")])],1),t._v(" "),s("el-col",{attrs:{span:10}},[t._v("秒")])],1)],1):t._e(),t._v(" "),2==t.deployMethod?s("div",[s("el-form",{ref:"form1",staticClass:"el-input",attrs:{model:t.form1}},[s("el-form-item",{staticClass:"form-item-bottom mt10"},[s("el-row",[s("el-col",{staticClass:"width156"},[t._v("容器组最大不可用数量：")]),t._v(" "),s("el-col",{staticClass:"ml10",attrs:{span:14}},[s("el-input",{staticClass:"w300",attrs:{value:"25%"}}),t._v(" "),s("div",{staticClass:"tips margin10"},[t._v("在滚动部署期间，允许的最大不可用的容器组比例，可以填一个百分数（比如10%），或者一个整数（比如1）")])],1)],1)],1),t._v(" "),s("el-form-item",{staticClass:"form-item-bottom"},[s("el-row",[s("el-col",{staticClass:"width156"},[t._v("容器组最大可调度数量：")]),t._v(" "),s("el-col",{staticClass:"ml10",attrs:{span:14}},[s("el-input",{staticClass:"w300",attrs:{value:"25%"}}),t._v(" "),s("div",{staticClass:"tips margin10"},[t._v("在滚动部署正在部署进行时，可以调度的容器组比例，可以填一个百分数（比如10%），或一个整数（比如1）")])],1)],1)],1)],1)],1):t._e(),t._v(" "),3==t.deployMethod?s("div",[s("el-form-item",{staticClass:"form-item-bottom mt10"},[s("el-row",[s("el-col",{staticClass:"my-label",attrs:{span:2}},[t._v("镜像名字:")]),t._v(" "),s("el-col",{attrs:{span:12}},[s("el-input",{staticClass:"w300",attrs:{value:" "}}),t._v(" "),s("div",{staticClass:"tips margin10"},[t._v("可以执行部署的镜像")])],1)],1)],1),t._v(" "),s("el-form-item",[s("el-row",[s("el-col",{staticClass:"my-label"},[t._v("命令:")]),t._v(" "),s("el-col",{attrs:{span:16}},[s("el-input",{staticClass:"wh600",attrs:{value:" "}}),t._v(" "),s("el-button",{staticClass:"shade-button ml10"},[t._v("添加")])],1)],1),t._v(" "),s("div",{staticClass:"ml80"},[s("textarea",{directives:[{name:"show",rawName:"v-show",value:t.muilRow,expression:"muilRow"}],staticClass:"my-textArea",attrs:{rows:6,value:" "}}),t._v(" "),s("div",{staticClass:"tips margin10"},[t._v("键入在容器中运行的命令，命令运行后若退出码是0，则认为成功，需要重新排列命令参数可使用拖动和删除")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show6,expression:"show6"}],staticClass:"blue-color my-line textline width120",on:{click:t.changeEdit}},[t._v("切换到多行编辑器")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show5,expression:"show5"}],staticClass:"blue-color textline width120",on:{click:function(e){t.hideBigArea()}}},[t._v("切换到单行编辑器")])])],1)],1):t._e()],1),t._v(" "),t.hide?s("div",[s("div",{staticClass:"el-line2 mt10"}),t._v(" "),s("el-row",{staticClass:"el-top-botom-20"},[s("el-col",{staticClass:"f14 width72"},[t._v("部署前钩子")]),t._v(" "),s("el-col",{staticClass:"el-p ml10",attrs:{span:8}},[t._v("部署前钩子在部署前执行")])],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.frontHookHide,expression:"frontHookHide"}]},[s("el-form",{ref:"form",staticClass:"el-input",attrs:{model:t.form}},[s("el-form-item",{attrs:{label:"生命周期操作：","label-width":"110px"}},[s("div",{attrs:{flex:"main:left"}},[s("el-radio",{staticClass:"radio",attrs:{label:"4"},model:{value:t.lifeCycle,callback:function(e){t.lifeCycle=e},expression:"lifeCycle"}},[t._v("在新的容器组中运行指定命令")]),t._v(" "),s("el-radio",{staticClass:"radio",attrs:{label:"5"},model:{value:t.lifeCycle,callback:function(e){t.lifeCycle=e},expression:"lifeCycle"}},[t._v("如果部署成功,给镜像打标签")])],1),t._v(" "),4==t.lifeCycle?s("div",{staticClass:"tips margin10"},[t._v("使用部署模板中的容器在新的容器组中运行命令。可以添加其他环境变量和卷")]):t._e(),t._v(" "),5==t.lifeCycle?s("div",{staticClass:"tips margin10"},[t._v("如果部署成功,将当前镜像作为镜像流打标签")]):t._e()]),t._v(" "),s("el-form-item",[s("el-row",[s("el-col",{staticClass:"my-label1",attrs:{span:1}},[t._v("容器名：")]),t._v(" "),s("el-col",{attrs:{span:4}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.containerValue,callback:function(e){t.containerValue=e},expression:"containerValue"}},t._l(t.containerNames,function(t,e){return s("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1)],1)],1),t._v(" "),4==t.lifeCycle?s("div",[s("el-form-item",{staticClass:"form-item-bottom"},[s("el-row",[s("el-col",{staticClass:"my-label1",attrs:{span:1}},[t._v("命令：")]),t._v(" "),s("el-col",{staticClass:"wh800"},[s("el-input",{staticClass:"wh600",attrs:{value:" "}}),t._v(" "),s("el-button",{staticClass:"shade-button ml10"},[t._v("添加")])],1)],1),t._v(" "),s("el-row",{directives:[{name:"show",rawName:"v-show",value:t.show4,expression:"show4"}],staticClass:"ml110"},[s("el-col",{staticClass:"w600"},[s("textarea",{staticClass:"my-textArea",attrs:{rows:6,value:" "}})])],1),t._v(" "),s("div",{staticClass:"ml110"},[s("div",{staticClass:"tips margin10"},[t._v("键入在容器中运行的命令，该命令运行后若退出码是0，则认为成功，需要重新排列命令参数可使用拖动和删除")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show2,expression:"show2"}],staticClass:"blue-color my-line textline width120",on:{click:function(e){t.showTextArea()}}},[t._v("切换到多行编辑器")]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show3,expression:"show3"}],staticClass:"blue-color my-line textline width120",on:{click:function(e){t.hideTextArea()}}},[t._v("切换到单行编辑器")])])],1),t._v(" "),s("el-form-item",{staticClass:"mt10"},[s("el-row",[s("el-col",{staticClass:"my-label1",attrs:{span:2}},[t._v("环境变量：")]),t._v(" "),s("el-col",{staticClass:"wh800"},[s("el-col",{staticClass:"wh600"},[s("el-input",{staticClass:"w290",attrs:{value:"PATHON_HOST_IP"}}),t._v(" "),s("el-input",{staticClass:"w290 ml16",attrs:{value:"192.18.1.0"}})],1),t._v(" "),s("el-col",{staticClass:"ml-22",attrs:{span:4}},[s("el-col",{staticClass:"pluse ml20",attrs:{span:4}},[t._v(" + ")]),t._v(" "),s("el-col",{staticClass:"delete-default ml20",attrs:{span:4}},[t._v(" × ")])],1)],1)],1)],1),t._v(" "),s("el-form-item",{staticClass:"form-item-bottom"},[s("el-row",[s("el-col",{staticClass:"my-label1",attrs:{span:1}},[t._v("卷：")]),t._v(" "),s("el-col",{attrs:{span:13}},[s("el-input",{staticClass:"w600",attrs:{value:" "}}),t._v(" "),s("div",{staticClass:"tips margin10"},[t._v("列出命名的卷，拷贝到容器组")])],1)],1)],1),t._v(" "),s("el-form-item",{staticClass:"form-bottom myicon "},[s("el-row",[s("el-col",{staticClass:"my-label1",attrs:{span:2}},[t._v("失败策略：")]),t._v(" "),s("el-col",{attrs:{span:4}},[s("el-select",{attrs:{placeholder:"请选择"},model:{value:t.failCheLueValue,callback:function(e){t.failCheLueValue=e},expression:"failCheLueValue"}},t._l(t.failCheLues,function(t,e){return s("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),t._v(" "),s("div",{staticClass:"tips mt10"},[t._v("不断重试钩子，直到成功")])],1)],1)],1)],1):t._e(),t._v(" "),5==t.lifeCycle?s("div",[s("el-form-item",[s("el-row",[s("el-col",{staticClass:"my-label1",attrs:{span:2}},[t._v("生成标签:")]),t._v(" "),s("el-select",{attrs:{placeholder:"请选择"}},t._l(t.containerNames,function(t,e){return s("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),t._v(" "),s("el-select",{staticClass:"ml10",attrs:{placeholder:"请选择"}},t._l(t.containerNames,function(t,e){return s("el-option",{key:e,attrs:{label:t.label,value:t.value}})})),t._v(" "),s("el-select",{staticClass:"ml10",attrs:{placeholder:"请选择"}},t._l(t.containerNames,function(t,e){return s("el-option",{key:e,attrs:{label:t.label,value:t.value}})}))],1)],1),t._v(" "),s("el-form-item",{staticClass:"form-bottom"},[s("el-row",{attrs:{flex:""}},[s("el-col",{staticClass:"my-label1",attrs:{span:2}},[t._v("失败处理策略:")]),t._v(" "),s("el-col",{attrs:{span:13}},[s("el-input",{staticClass:"w600",attrs:{value:t.value}}),t._v(" "),s("div",{staticClass:"tips margin10"},[t._v("不断重试钩子，直到成功")])],1)],1)],1)],1):t._e()],1)],1),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"show"}],staticClass:" el-top-botom-20",on:{click:t.hideFrontHook}},[s("i",{staticClass:"el-icon-plus"}),t._v(" "),s("span",{staticClass:"blue2Color"},[t._v("添加部署前钩子")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.show1,expression:"show1"}],staticClass:" el-top-botom-20",on:{click:function(e){t.showDelete()}}},[s("i",{staticClass:"el-icon-minus"}),t._v(" "),s("span",{staticClass:"blue2Color"},[t._v("删除部署前钩子")])]),t._v(" "),s("div",{staticClass:"el-line2"}),t._v(" "),s("el-row",{staticClass:"el-top-botom-20"},[s("el-col",{staticClass:"width115"},[t._v("部署中间状态钩子")]),t._v(" "),s("el-col",{staticClass:"el-p ml10",attrs:{span:16}},[t._v("中间状态钩子是在前一个部署操作的容器组数量缩减为0之后并且在新的部署操作创建第一个容器组之前执行")])],1),t._v(" "),t._m(0),t._v(" "),s("div",{staticClass:"el-line2"}),t._v(" "),s("el-row",{staticClass:"el-top-botom-20"},[s("el-col",{staticClass:"width72"},[t._v("部署后钩子")]),t._v(" "),s("el-col",{staticClass:"el-p ml10",attrs:{span:10}},[t._v("部署后钩子在部署之前执行")])],1),t._v(" "),t._m(1),t._v(" "),s("div",{staticClass:"el-line2"})],1):t._e(),t._v(" "),s("div",{staticClass:"mt20"},[t._v("设置其他参数或者编辑生命周期挂钩"),s("span",{staticClass:"bluewords ml20 f14",on:{click:t.hideSeniorSet}},[t._v(t._s(t.seniorSet))])])],1)},a=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"  el-top-botom-20"},[s("i",{staticClass:"el-icon-plus"}),t._v(" "),s("span",{staticClass:"blue2Color"},[t._v("添加中间状态钩子")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:" mt20 el-top-botom-20"},[s("i",{staticClass:"el-icon-plus"}),t._v(" "),s("span",{staticClass:"blue2Color"},[t._v("添加部署后钩子")])])}],i={render:l,staticRenderFns:a};e.a=i},vkoe:function(t,e,s){"use strict";var l=s("3cXf"),a=s.n(l);e.a={props:{},created:function(){},ready:function(){this.template=JSON.parse(a()(this.template))},data:function(){return{form:null,form1:null,deployMethod:"1",value:" ",lifeCycle:"4",show:!0,show1:!1,show2:!0,show3:!1,show4:!1,show5:!1,show6:!0,hide:!1,frontHookHide:!1,muilRow:!1,seniorSet:"高级选项",containerNames:[{label:"tomcat",value:0},{label:"apache",value:1}],containerValue:0,failCheLues:[{label:"重试",value:0},{label:"调度",value:1}],failCheLueValue:0,lifeCycleHide:!0}},components:{},filters:{},methods:{changeEdit:function(){this.muilRow=!0,this.show5=!0,this.show6=!1},hideBigArea:function(){this.muilRow=!1,this.show5=!1,this.show6=!0},hideSeniorSet:function(){1==this.hide?(this.hide=!1,this.seniorSet="高级选项"):(this.hide=!0,this.seniorSet="隐藏高级选项")},hideFrontHook:function(){this.show=!1,this.show1=!0,this.frontHookHide=!0},showDelete:function(){this.show=!0,this.show1=!1,this.frontHookHide=!1},showTextArea:function(){this.show4=!0,this.show2=!1,this.show3=!0},hideTextArea:function(){this.show4=!1,this.show2=!0,this.show3=!1}},computed:{},watch:{}}}});