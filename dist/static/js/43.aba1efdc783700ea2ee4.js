webpackJsonp([43],{"0wPW":function(e,t,a){var l=a("m0FO");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("XkoO")("bd1917ba",l,!0)},Ks0p:function(e,t,a){"use strict";var l=a("4YfN"),s=a.n(l),i=a("lQSI");a("NVSU");t.a={props:{},created:function(){this.change(this.$route.path)},ready:function(){},data:function(){return{form:{isnew:!0,name:"",confirm:"base",date1:"",date2:"",delivery:!1,type:[],labels:[],resource:"",userName:"",password:"",descCAfile:"",descGitfile:"",minReplicas:1,maxReplicas:1,targetCPUUtilizationPercentage:"80"},initdata:{},postdata:{}}},components:{},filters:{},methods:s()({},a.i(i.c)(["change"]),{onCancel:function(){this.$router.go(-1)},onSubmit:function(){var e=this;console.log(e.$route);for(var t={},a=0;a<e.form.labels.length;a++)t[e.form.labels[a].key]=e.form.labels[a].value;var l=e.postdata;l.metadata.labels=t,l.spec.minReplicas=e.form.minReplicas,l.spec.maxReplicas=e.form.maxReplicas,l.spec.targetCPUUtilizationPercentage=e.form.targetCPUUtilizationPercentage,e.form.isnew?this.$ajax.post(e.$httpConfig.horizontalpodautoscalers.replace("{projectName}",e.$route.params.disName),l).then(function(t){e.$message({type:"success",message:"添加成功!"}),e.$router.go(-1)}).catch(function(t){e.$message({type:"error",message:"添加失败!"}),console.log(t)}):this.$ajax.put(e.$httpConfig.horizontalpodautoscalers_edit.replace("{projectName}",e.$route.params.disName).replace("{autoName}",e.$route.query.deploy),l).then(function(t){e.$message({type:"success",message:"保存成功!"}),e.$router.go(-1)}).catch(function(t){e.$message({type:"error",message:"保存失败!"}),console.log(t)})},addrow:function(e){if(this.form.labels.length-1==e){this.form.labels.push({key:"",value:""})}},delrow:function(e){this.form.labels.length>1&&this.form.labels.splice(e,1)}}),beforeMount:function(){var e=this;this.$ajax.get(e.$httpConfig.horizontalpodautoscalers_edit.replace("{projectName}",e.$route.params.disName).replace("{autoName}",e.$route.query.deploy)).then(function(t){console.log(t.data);var a=t.data;if(a.metadata.labels){var l=[];for(var s in a.metadata.labels)l.push({key:s,value:a.metadata.labels[s]});e.$set(e,"form",{isnew:!1,name:a.metadata.name,confirm:"base",date1:"",date2:"",delivery:!1,type:[],labels:l,resource:"",userName:"",password:"",descCAfile:"",descGitfile:"",minReplicas:a.spec.minReplicas,maxReplicas:a.spec.maxReplicas,targetCPUUtilizationPercentage:a.spec.targetCPUUtilizationPercentage}),e.$set(e,"initdata",a),e.$set(e,"postdata",a)}else e.$ajax.get(e.$httpConfig.limitranges.replace("{projectName}",e.$route.params.disName)).then(function(t){console.log(t.data);var a=t.data;e.$set(e,"form",{isnew:!0,name:e.$route.query.deploy,confirm:"base",date1:"",date2:"",delivery:!1,type:[],labels:[{key:"app",value:e.$route.query.deploy}],resource:"",userName:"",password:"",descCAfile:"",descGitfile:"",minReplicas:1,maxReplicas:1,targetCPUUtilizationPercentage:"80"}),e.$set(e,"initdata",a),e.$set(e,"postdata",{kind:"HorizontalPodAutoscaler",apiVersion:"autoscaling/v1",metadata:{name:e.$route.query.deploy,labels:{app:e.$route.query.deploy}},spec:{scaleTargetRef:{kind:"DeploymentConfig",name:e.$route.query.deploy,apiVersion:"extensions/v1beta1",subresource:"scale"},minReplicas:1,maxReplicas:1,targetCPUUtilizationPercentage:1440}})}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e)})},computed:{},watch:{}}},NVSU:function(e,t,a){"use strict";function l(e){a("0wPW")}var s=a("il3b"),i=a("vDNy"),n=a("J0+h"),o=l,r=n(s.a,i.a,o,"data-v-74e13498",null);t.a=r.exports},hH2N:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:" font-color"},[a("div",{staticClass:"content-title"},[e._v(" 自动编辑部属配置"+e._s(e.form.name))]),e._v(" "),a("div",{staticClass:"content-container"},[a("div",{staticClass:"f12"},[e._v(" 据指CPU使用率自动缩放副本")]),e._v(" "),a("el-form",{ref:"claim",staticClass:"mt20 limit-input ml-24",attrs:{model:e.claim,"label-width":"155px"}},[a("el-form-item",{staticClass:"red-star1",attrs:{label:"自动编辑器名称：",prop:"name"}},[a("div",{staticClass:"ml10"},[a("el-input",{staticClass:"search-input",attrs:{required:""},model:{value:e.form.name,callback:function(t){e.form.name=t},expression:"form.name"}}),e._v(" "),a("div",{staticClass:"f12 "},[e._v(" 项目中水平容器自动编辑器的唯一名称")])],1)]),e._v(" "),a("el-form-item",{staticClass:"red-star1",attrs:{label:"最小容器值：",prop:"min"}},[a("div",{staticClass:"ml10"},[a("el-input-number",{staticClass:"countWidth",attrs:{min:1},on:{change:e.handleChange},model:{value:e.form.minReplicas,callback:function(t){e.form.minReplicas=t},expression:"form.minReplicas"}}),e._v(" "),a("div",{staticClass:"f12 "},[e._v(" 可由自动分页器设置的容器数量的下限，如果未指定，则默认为1。")])],1)]),e._v(" "),a("el-form-item",{staticClass:"red-star1",attrs:{label:"最大容器值：",prop:"min"}},[a("div",{staticClass:"ml10"},[a("el-input-number",{staticClass:"countWidth",attrs:{min:1},on:{change:e.handleChange},model:{value:e.form.maxReplicas,callback:function(t){e.form.maxReplicas=t},expression:"form.maxReplicas"}}),e._v(" "),a("div",{staticClass:"f12 "},[e._v(" 可由自动分页器设置的容器数量的上限。")])],1)]),e._v(" "),a("el-form-item",{staticClass:"red-star1",attrs:{label:"CPU请求目标：",prop:"min"}},[a("div",{staticClass:"ml10"},[a("el-input-number",{staticClass:"countWidth",attrs:{min:1},on:{change:e.handleChange},model:{value:e.form.targetCPUUtilizationPercentage,callback:function(t){e.form.targetCPUUtilizationPercentage=t},expression:"form.targetCPUUtilizationPercentage"}}),e._v(" "),a("div",{staticClass:"f12 "},[e._v(" 每个容器应合理的使用CPU请求的百分比，当CPU使用率超过或低于此目标值时，容器将被定期添加或删除，默认为80%。")]),e._v(" "),a("div",{staticClass:"bluewords f12"},[e._v("点击了解更多")])],1)]),e._v(" "),a("el-row",{staticClass:"inner-element ml26 mt10"},[a("div",[e._v("标签"),a("span",{staticStyle:{"font-size":"12px",color:"#666","margin-left":"10px"}},[e._v("关于标签")])])])],1),e._v(" "),e._l(e.form.labels,function(t,l){return t?a("el-row",{key:l,class:0==l?"inner-element ":"inner-element mt10",attrs:{labe:e.inputTitle}},[a("div",{staticClass:"wh350"},[a("el-input",{attrs:{placeholder:"label"},model:{value:t.key,callback:function(e){t.key=e},expression:"item.key"}})],1),e._v(" "),a("div",{staticClass:"wh350 ml20"},[a("el-input",{attrs:{value:"",placeholder:"value"},model:{value:t.value,callback:function(e){t.value=e},expression:"item.value"}})],1),e._v(" "),a("div",{class:l==e.form.labels.length-1?"pluse ml20":"pluse-default ml20",on:{click:function(t){e.addrow(l)}}},[e._v(" + ")]),e._v(" "),a("div",{class:1==e.form.labels.length?"delete-default ml20":"delete ml20",on:{click:function(t){e.delrow(l)}}},[e._v(" × ")])]):e._e()}),e._v(" "),a("div",{staticClass:"btn110 mt40"},[a("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v(" 保存 ")]),e._v(" "),a("el-button",{staticClass:"shade-button",on:{click:e.onCancel}},[e._v(" 取消 ")])],1)],2)])},s=[],i={render:l,staticRenderFns:s};t.a=i},il3b:function(e,t,a){"use strict";t.a={props:{labe:String},created:function(){},ready:function(){},data:function(){return{form5:{labelKey2:"",labelValue2:""}}},components:{},filters:{},methods:{deleinput:function(){this.$emit("dele")},tianjia:function(){this.$emit("add")}},computed:{},watch:{}}},kzf9:function(e,t,a){t=e.exports=a("YfG4")(!1),t.push([e.i,".el-icon-minus,.el-icon-plus{width:100%;height:100%;background:hsla(0,0%,100%,0)!important;border-radius:8px;color:#97a8be;text-align:center;line-height:16px;font-size:12px;margin-right:0;cursor:pointer}.left{width:160px;text-align:right;margin-right:10px}div{color:#333}.ml50{margin-left:50px}.wh1000{width:1000px}.wh714{width:714px}.ml26{margin-left:26px}.ml55{margin-left:55px}.ml-24{margin-left:-24px}.ml-8{margin-left:-8px}.flt{float:left}.countWidth{width:352px}",""])},m0FO:function(e,t,a){t=e.exports=a("YfG4")(!1),t.push([e.i,".dele-ding[data-v-74e13498]{width:70px}.el-input.el-input-small[data-v-74e13498],.el-select.el-select-small[data-v-74e13498]{width:300px}.ml26[data-v-74e13498]{margin-left:26px}.ml8[data-v-74e13498]{margin-left:5px}",""])},nrCD:function(e,t,a){var l=a("kzf9");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("XkoO")("5f8a45d9",l,!0)},ufgt:function(e,t,a){"use strict";function l(e){a("nrCD")}Object.defineProperty(t,"__esModule",{value:!0});var s=a("Ks0p"),i=a("hH2N"),n=a("J0+h"),o=l,r=n(s.a,i.a,o,null,null);t.default=r.exports},vDNy:function(e,t,a){"use strict";var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt10"},[a("el-form",{ref:"form",staticClass:"ml26",attrs:{model:e.form5}},["环境变量："===e.labe?a("el-form-item",{attrs:{label:"环境变量："}},[a("el-row",[a("el-col",{attrs:{span:7}},[a("el-input",{staticClass:"el-input-small",attrs:{placeholder:"PYTHON_HOST_IP"},model:{value:e.form5.labelKey2,callback:function(t){e.form5.labelKey2=t},expression:"form5.labelKey2"}})],1),e._v(" "),a("el-col",{attrs:{span:7}},[a("el-input",{staticClass:"el-input-small ml20",attrs:{placeholder:"192.168.1.1"},model:{value:e.form5.labelValue2,callback:function(t){e.form5.labelValue2=t},expression:"form5.labelValue2"}})],1),e._v(" "),a("el-col",{attrs:{span:3}},[a("el-col",{staticClass:"pluse-default ml40",attrs:{span:3}},[e._v(" + ")]),e._v(" "),a("el-col",{staticClass:"delete",attrs:{span:3}},[a("span",{staticClass:"ml20",on:{click:e.deleinput}},[e._v(" × ")])])],1)],1)],1):e._e(),e._v(" "),"标签："===e.labe?a("el-form-item",{attrs:{label:"标签："}},[a("el-row",{staticClass:"inner-element "},[a("div",{staticClass:"wh350 ml8"},[a("el-input",{attrs:{value:"",placeholder:"lable"}})],1),e._v(" "),a("div",{staticClass:"wh350 ml20"},[a("el-input",{attrs:{value:"",placeholder:"value"}})],1),e._v(" "),a("div",{staticClass:"pluse-default ml20",on:{click:e.tianjia}},[e._v(" + ")]),e._v(" "),a("div",{staticClass:"delete-default ml20",on:{click:e.deleinput}},[e._v(" × ")])])],1):e._e()],1)],1)},s=[],i={render:l,staticRenderFns:s};t.a=i}});