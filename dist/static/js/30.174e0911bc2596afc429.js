webpackJsonp([30,87,88,89,90,91],{"0I37":function(e,t,a){t=e.exports=a("YfG4")(!1),t.push([e.i,".left[data-v-fb7fc2f8]{width:100px;text-align:right;margin-right:10px}",""])},"32ja":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-steps",{staticClass:"margin-left-20",attrs:{center:!0,"align-center":!0,active:e.active,"finish-status":"finish"}},[a("el-step",{staticClass:"el-step",attrs:{title:"基础信息"}}),e._v(" "),a("el-step",{staticClass:"el-step",attrs:{title:"配置代码仓库"}}),e._v(" "),a("el-step",{staticClass:"el-step",attrs:{title:"构建设置"}}),e._v(" "),a("el-step",{staticClass:"el-step",attrs:{title:"部署设置"}})],1)],1)},l=[],n={render:s,staticRenderFns:l};t.a=n},"4A3x":function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"mt20 "},[a("el-row",{staticClass:"mt20"},[a("el-col",{staticClass:"f14 left",attrs:{span:2}},[e._v("构建设置：")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("使用默认构建设置")]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("自定义构建设置")])],1)],1),e._v(" "),a("div",{staticClass:"ml20 "},[a("div",{staticClass:"mt20 "},[a("el-checkbox",{attrs:{label:"配置webhook,支持持续构建"},model:{value:e.$parent.step3.webhook,callback:function(t){e.$parent.step3.webhook=t},expression:"$parent.step3.webhook"}})],1),e._v(" "),a("div",{staticClass:"mt20 "},[a("el-checkbox",{attrs:{label:"构建镜像创建后，自动触发构建"},model:{value:e.$parent.step3.autobuild,callback:function(t){e.$parent.step3.autobuild=t},expression:"$parent.step3.autobuild"}})],1),e._v(" "),a("div",{staticClass:"mt20 "},[a("el-checkbox",{attrs:{label:"构建配置创建后,触发首次构建"},model:{value:e.$parent.step3.firstbuild,callback:function(t){e.$parent.step3.firstbuild=t},expression:"$parent.step3.firstbuild"}})],1)])],1),e._v(" "),a("div",{staticClass:"mt20 ml29"},e._l(e.$parent.step3.labels,function(t,s){return a("el-row",{staticClass:"mt20"},[a("el-col",{staticClass:"my-label1 wh70 mt10"},[e._v("环境变量：")]),e._v(" "),a("el-col",{staticClass:"ml10 wh800"},[a("el-col",{staticClass:"wh600"},[a("el-input",{staticClass:"w290",attrs:{placeholder:"Name",readonly:s<e.$parent.step3.labelDefaultSize},model:{value:t.name,callback:function(e){t.name=e},expression:"item.name"}}),e._v(" "),a("el-input",{staticClass:"w290 ml10",attrs:{placeholder:"Value",readonly:s<e.$parent.step3.labelDefaultSize},model:{value:t.value,callback:function(e){t.value=e},expression:"item.value"}})],1),e._v(" "),a("el-col",{attrs:{span:1}},[s>=e.$parent.step3.labelDefaultSize?a("div",{class:s==e.$parent.step3.labels.length-1?"pluse ml20":"pluse-default ml20",on:{click:function(t){e.addrow(s)}}},[e._v(" + ")]):e._e()]),e._v(" "),a("el-col",{attrs:{span:1}},[s>=e.$parent.step3.labelDefaultSize?a("div",{class:e.$parent.step3.labels.length>e.$parent.step3.labelDefaultSize+1?"delete ml20":"delete-default ml20",on:{click:function(t){e.delrow(s)}}},[e._v(" × ")]):e._e()])],1)],1)}))])},l=[],n={render:s,staticRenderFns:l};t.a=n},BIDW:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mt20 ml-11"},[a("el-row",{attrs:{align:"middle"}},[a("el-col",{staticClass:"mt10 left",attrs:{span:2}},[e._v("代码仓库源：")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:""},model:{value:e.$parent.step2.source_repository_ref,callback:function(t){e.$parent.step2.source_repository_ref=t},expression:"$parent.step2.source_repository_ref"}})],1)],1),e._v(" "),a("el-row",{staticClass:"mt20",attrs:{align:"middle"}},[a("el-col",{staticClass:"mt10 left",attrs:{span:2}},[e._v("代码仓库URL：")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:""},model:{value:e.$parent.step2.source_repository_url,callback:function(t){e.$parent.step2.source_repository_url=t},expression:"$parent.step2.source_repository_url"}})],1)],1),e._v(" "),a("el-row",{staticClass:"mt20",attrs:{align:"middle"}},[a("el-col",{staticClass:"mt10 left",attrs:{span:2}},[e._v("代码分支：")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"master"},model:{value:e.$parent.step2.source_repository_branch,callback:function(t){e.$parent.step2.source_repository_branch=t},expression:"$parent.step2.source_repository_branch"}})],1)],1),e._v(" "),a("el-row",{staticClass:"mt20",attrs:{align:"middle"}},[a("el-col",{staticClass:"mt10 left",attrs:{span:2}},[e._v("构建目录：")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"/"},model:{value:e.$parent.step2.context_dir,callback:function(t){e.$parent.step2.context_dir=t},expression:"$parent.step2.context_dir"}})],1)],1),e._v(" "),a("el-row",{staticClass:"mt20 last",attrs:{align:"middle"}},[a("el-col",{staticClass:"mt10 left",attrs:{span:2}},[e._v("私密凭据：")]),e._v(" "),a("el-col",{attrs:{span:20}},[a("el-select",{staticClass:"wh350",attrs:{placeholder:""},model:{value:e.$parent.secretsVal,callback:function(t){e.$parent.secretsVal=t},expression:"$parent.secretsVal"}},e._l(e.$parent.secretsOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),a("br"),e._v(" "),a("el-button",{staticClass:"ml20",on:{click:e.creatPrivateProof}},[e._v("创建私密凭据")])],1)],1)],1)},l=[],n={render:s,staticRenderFns:l};t.a=n},Bvk3:function(e,t,a){var s=a("F+at");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("XkoO")("7d97d5b9",s,!0)},"F+at":function(e,t,a){t=e.exports=a("YfG4")(!1),t.push([e.i,".left[data-v-94765b8c]{width:90px;text-align:right;margin-right:10px}.width70[data-v-94765b8c]{width:70px}.ml29[data-v-94765b8c]{margin-left:29px}",""])},LCMb:function(e,t,a){var s=a("sq06");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("XkoO")("e9d61486",s,!0)},LHCn:function(e,t,a){"use strict";function s(e){a("tOct")}Object.defineProperty(t,"__esModule",{value:!0});var l=a("gvpH"),n=a("BIDW"),r=a("J0+h"),i=s,o=r(l.a,n.a,i,"data-v-36386909",null);t.default=o.exports},MRRe:function(e,t,a){"use strict";function s(e){a("TBUJ")}Object.defineProperty(t,"__esModule",{value:!0});var l=a("pELT"),n=a("Z4zD"),r=a("J0+h"),i=s,o=r(l.a,n.a,i,"data-v-fb7fc2f8",null);t.default=o.exports},"O3A+":function(e,t,a){t=e.exports=a("YfG4")(!1),t.push([e.i,".left[data-v-285019a5]{width:50px;text-align:right;margin-right:10px}.left120[data-v-285019a5]{width:120px;text-align:right;margin-right:10px}.ml50[data-v-285019a5]{margin-left:50px}.ml60[data-v-285019a5]{margin-left:60px}.ml80[data-v-285019a5]{margin-left:80px}.ml130[data-v-285019a5]{margin-left:130px}.ml100[data-v-285019a5]{margin-left:105px}.width70[data-v-285019a5]{width:70px}.w290[data-v-285019a5]{width:290px}.wh98[data-v-285019a5]{width:98px}.width42[data-v-285019a5]{width:42px}.ml8[data-v-285019a5]{margin-left:7px}",""])},TBUJ:function(e,t,a){var s=a("0I37");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("XkoO")("6709fc8a",s,!0)},U5ZR:function(e,t,a){"use strict";t.a={name:"",data:function(){return{active:1}},methods:{next:function(){this.active++>3&&(this.active=0)}}}},Z4zD:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"f16 mt20"},[e._v("基本信息")]),e._v(" "),a("el-row",{staticClass:"mt20 "},[a("el-col",{staticClass:"mt10 left",attrs:{span:3}},[e._v("构建项目名称：")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:""},model:{value:e.$parent.step1.name,callback:function(t){e.$parent.step1.name=t},expression:"$parent.step1.name"}})],1)],1),e._v(" "),a("el-row",{staticClass:"mt20 "},[a("el-col",{staticClass:"left",attrs:{span:2}},[e._v("构建语言：")]),e._v(" "),a("el-col",{attrs:{span:20}},[e._v(e._s(e.$parent.step1.language))])],1),e._v(" "),e.$parent.step1.options.length>0?a("el-row",{staticClass:"mt20 "},[a("el-col",{staticClass:"left mt8",attrs:{span:1}},[e._v("版本：")]),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-select",{staticClass:"wh350",attrs:{placeholder:""},model:{value:e.$parent.step1.value,callback:function(t){e.$parent.step1.value=t},expression:"$parent.step1.value"}},e._l(e.$parent.step1.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1):e._e()],1)},l=[],n={render:s,staticRenderFns:l};t.a=n},bDQ5:function(e,t,a){"use strict";function s(e){a("j1NJ")}Object.defineProperty(t,"__esModule",{value:!0});var l=a("U5ZR"),n=a("32ja"),r=a("J0+h"),i=s,o=r(l.a,n.a,i,"data-v-33a50ee9",null);t.default=o.exports},eFFn:function(e,t,a){"use strict";function s(e){a("Bvk3")}Object.defineProperty(t,"__esModule",{value:!0});var l=a("shKw"),n=a("4A3x"),r=a("J0+h"),i=s,o=r(l.a,n.a,i,"data-v-94765b8c",null);t.default=o.exports},fThN:function(e,t,a){t=e.exports=a("YfG4")(!1),t.push([e.i,".left[data-v-36386909]{width:110px;text-align:right;margin-right:10px}.ww[data-v-36386909]{width:100%}.ml-11[data-v-36386909]{margin-left:-11px}",""])},gPos:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticClass:"mt20"},[a("el-col",{staticClass:"f14 width70"},[e._v("部署设置：")]),e._v(" "),a("el-col",{staticClass:"ml10",attrs:{span:10}},[a("el-radio",{staticClass:"radio",attrs:{label:"1"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("使用默认部署设置")]),e._v(" "),a("el-radio",{staticClass:"radio",attrs:{label:"2"},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v("自定义部署设置")])],1)],1),e._v(" "),a("div",{staticClass:"mt20"},[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"配置Routing",name:"first"}},[a("el-row",{staticClass:"mt20 ",attrs:{align:"middle"}},[a("el-col",{staticClass:"mt10 left",attrs:{span:1}},[e._v("域名：")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"www.example.com"},model:{value:e.$parent.step4.routing.host,callback:function(t){e.$parent.step4.routing.host=t},expression:"$parent.step4.routing.host"}})],1)],1),e._v(" "),a("el-row",{staticClass:"mt20 ",attrs:{align:"middle"}},[a("el-col",{staticClass:"mt10 left",attrs:{span:1}},[e._v("路劲：")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:"/"},model:{value:e.$parent.step4.routing.path,callback:function(t){e.$parent.step4.routing.path=t},expression:"$parent.step4.routing.path"}})],1)],1),e._v(" "),a("el-row",{staticClass:"mt20 ",attrs:{align:"top"}},[a("el-col",{staticClass:"mt10 left",attrs:{span:1}},[e._v("端口：")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:""},model:{value:e.$parent.step4.routing.port,callback:function(t){e.$parent.step4.routing.port=t},expression:"$parent.step4.routing.port"}}),e._v(" "),a("el-checkbox",{staticClass:"mt20",model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}},[e._v("支持TLS")])],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"配置设置",name:"second"}},[a("div",{staticClass:"ml20"},[a("div",{staticClass:"mt20"},[a("el-checkbox",{attrs:{label:"应用镜像构建后自动触发部署"},model:{value:e.$parent.step4.config.newImageIsAvailable,callback:function(t){e.$parent.step4.config.newImageIsAvailable=t},expression:"$parent.step4.config.newImageIsAvailable"}})],1),e._v(" "),a("div",{staticClass:"mt20"},[a("el-checkbox",{attrs:{label:"部署配置更改后自动触发部署"},model:{value:e.$parent.step4.config.deploymentConfigurationChanges,callback:function(t){e.$parent.step4.config.deploymentConfigurationChanges=t},expression:"$parent.step4.config.deploymentConfigurationChanges"}})],1)]),e._v(" "),a("div",{staticClass:"mt20"},e._l(e.$parent.step4.config.labels,function(t,s){return a("el-row",{staticClass:"mt20"},[a("el-col",{staticClass:"my-label1 wh70 mt10"},[e._v("环境变量：")]),e._v(" "),a("el-col",{staticClass:"ml10 wh800"},[a("el-col",{staticClass:"wh600"},[a("el-input",{staticClass:"w290",attrs:{placeholder:"Name",readonly:s<0},model:{value:t.name,callback:function(e){t.name=e},expression:"item.name"}}),e._v(" "),a("el-input",{staticClass:"w290 ml10",attrs:{placeholder:"Value",readonly:s<0},model:{value:t.value,callback:function(e){t.value=e},expression:"item.value"}})],1),e._v(" "),a("el-col",{attrs:{span:1}},[s>=0?a("div",{class:s==e.$parent.step4.config.labels.length-1?"pluse ml20":"pluse-default ml20",on:{click:function(t){e.addrow(s)}}},[e._v(" + ")]):e._e()]),e._v(" "),a("el-col",{attrs:{span:1}},[s>=0?a("div",{class:e.$parent.step4.config.labels.length>1?"delete ml20":"delete-default ml20",on:{click:function(t){e.delrow(s)}}},[e._v(" × ")]):e._e()])],1)],1)}))]),e._v(" "),a("el-tab-pane",{attrs:{label:"Scaling策略配置",name:"third"}},[a("el-row",{staticClass:"mt20 ",attrs:{align:"middle"}},[a("el-col",{staticClass:"left120 mt10",attrs:{span:2}},[e._v("Scaling策略：")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-select",{staticClass:"wh350",attrs:{placeholder:""},model:{value:e.$parent.step4.scaling.strategy,callback:function(t){e.$parent.step4.scaling.strategy=t},expression:"$parent.step4.scaling.strategy"}},e._l(e.$parent.step4.scaling.strategyLabels,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-row",{staticClass:"mt20 ",attrs:{align:"middle"}},[a("el-col",{staticClass:"mt10 left120",attrs:{span:2}},[e._v("扩展最小Pod数：")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:""},model:{value:e.$parent.step4.scaling.minPod,callback:function(t){e.$parent.step4.scaling.minPod=t},expression:"$parent.step4.scaling.minPod"}})],1)],1),e._v(" "),a("el-row",{staticClass:"mt20 ",attrs:{align:"middle"}},[a("el-col",{staticClass:"mt10 left120",attrs:{span:2}},[e._v("扩展最大Pod数：")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:""},model:{value:e.$parent.step4.scaling.maxPod,callback:function(t){e.$parent.step4.scaling.maxPod=t},expression:"$parent.step4.scaling.maxPod"}})],1)],1),e._v(" "),a("el-row",{staticClass:"mt20 ",attrs:{align:"middle"}},[a("el-col",{staticClass:"mt10 left120",attrs:{span:2}},[e._v("CPU请求率：")]),e._v(" "),a("el-col",{attrs:{span:10}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:""},model:{value:e.$parent.step4.scaling.cpu,callback:function(t){e.$parent.step4.scaling.cpu=t},expression:"$parent.step4.scaling.cpu"}})],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"资源配置",name:"fourth"}},[a("el-row",{staticClass:"mt20",attrs:{align:"middle"}},[a("el-col",{staticClass:"mt10 f16 wh98"},[e._v("CPU请求数：")]),e._v(" "),a("el-col",{staticClass:"ml8",attrs:{span:7}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:""},model:{value:e.$parent.step4.resource.cpu_request_inputValue,callback:function(t){e.$parent.step4.resource.cpu_request_inputValue=t},expression:"$parent.step4.resource.cpu_request_inputValue"}})],1),e._v(" "),a("el-col",{staticClass:"ml10",attrs:{span:4}},[a("el-select",{staticClass:"wh100",model:{value:e.$parent.step4.resource.cpu_request_unit,callback:function(t){e.$parent.step4.resource.cpu_request_unit=t},expression:"$parent.step4.resource.cpu_request_unit"}},e._l(e.options2,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-row",{staticClass:"mt20",attrs:{align:"middle"}},[a("el-col",{staticClass:"mt10 f16 wh98",attrs:{span:2}},[e._v("CPU限制数：")]),e._v(" "),a("el-col",{staticClass:"ml8",attrs:{span:7}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:""},model:{value:e.$parent.step4.resource.cpu_limit_inputValue,callback:function(t){e.$parent.step4.resource.cpu_limit_inputValue=t},expression:"$parent.step4.resource.cpu_limit_inputValue"}})],1),e._v(" "),a("el-col",{staticClass:"ml10",attrs:{span:4}},[a("el-select",{staticClass:"wh100",model:{value:e.$parent.step4.resource.cpu_limit_unit,callback:function(t){e.$parent.step4.resource.cpu_limit_unit=t},expression:"$parent.step4.resource.cpu_limit_unit"}},e._l(e.options2,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-row",{staticClass:"mt20",attrs:{align:"middle"}},[a("el-col",{staticClass:"mt10 f16 wh98",attrs:{span:2}},[e._v("内存请求数：")]),e._v(" "),a("el-col",{staticClass:"ml8",attrs:{span:7}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:""},model:{value:e.$parent.step4.resource.memory_request_inputValue,callback:function(t){e.$parent.step4.resource.memory_request_inputValue=t},expression:"$parent.step4.resource.memory_request_inputValue"}})],1),e._v(" "),a("el-col",{staticClass:"ml10",attrs:{span:4}},[a("el-select",{staticClass:"wh100",model:{value:e.$parent.step4.resource.memory_request_unit,callback:function(t){e.$parent.step4.resource.memory_request_unit=t},expression:"$parent.step4.resource.memory_request_unit"}},e._l(e.optionsInner,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1),e._v(" "),a("el-row",{staticClass:"mt20",attrs:{align:"middle"}},[a("el-col",{staticClass:"mt10 f16 wh98",attrs:{span:2}},[e._v("内存限制数：")]),e._v(" "),a("el-col",{staticClass:"ml8",attrs:{span:7}},[a("el-input",{staticClass:"search-input",attrs:{placeholder:""},model:{value:e.$parent.step4.resource.memory_limit_inputValue,callback:function(t){e.$parent.step4.resource.memory_limit_inputValue=t},expression:"$parent.step4.resource.memory_limit_inputValue"}})],1),e._v(" "),a("el-col",{staticClass:"ml10",attrs:{span:4}},[a("el-select",{staticClass:"wh100",model:{value:e.$parent.step4.resource.memory_limit_unit,callback:function(t){e.$parent.step4.resource.memory_limit_unit=t},expression:"$parent.step4.resource.memory_limit_unit"}},e._l(e.optionsInner,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)],1)],1),e._v(" "),a("el-tab-pane",{attrs:{label:"标签",name:"fifth"}},[a("div",{staticClass:"mt20"},e._l(e.$parent.step4.labels,function(t,s){return a("el-row",{staticClass:"inner-element mt10"},[a("div",[e._v("标签：")]),e._v(" "),a("div",{staticClass:"wh350 ml10"},[a("el-input",{staticClass:"w290",attrs:{placeholder:"Name",readonly:s<1},model:{value:t.name,callback:function(e){t.name=e},expression:"item.name"}})],1),e._v(" "),a("div",{staticClass:"wh350 ml20"},[a("el-input",{staticClass:"w290 ml10",attrs:{placeholder:"Value",readonly:s<1},model:{value:t.value,callback:function(e){t.value=e},expression:"item.value"}})],1),e._v(" "),s>=1?a("div",{class:s==e.$parent.step4.labels.length-1?"pluse ml20":"pluse-default ml20",on:{click:function(t){e.addrow(s)}}},[e._v(" + ")]):e._e(),e._v(" "),s>=1?a("div",{class:e.$parent.step4.labels.length>2?"delete ml20":"delete-default ml20",on:{click:function(t){e.delrow(s)}}},[e._v(" × ")]):e._e()])}))])],1)],1),e._v(" "),a("el-row",{staticClass:"btn110 mt40 ml52",attrs:{align:"middle"}},[a("el-button",[e._v(" 取消 ")]),e._v(" "),a("el-button",{attrs:{type:"primary",disabled:e.$parent.error&&""!=e.$parent.error},on:{click:e.$parent.save}},[e._v(" 保存 ")])],1)],1)},l=[],n={render:s,staticRenderFns:l};t.a=n},gvpH:function(e,t,a){"use strict";t.a={props:{},created:function(){},ready:function(){},data:function(){return{}},components:{},filters:{},methods:{creatPrivateProof:function(){this.$emit("crea")}},computed:{},watch:{}}},iKV2:function(e,t,a){t=e.exports=a("YfG4")(!1),t.push([e.i,".margin-left-20[data-v-33a50ee9]{margin-top:20px;margin-left:25px}.el-step[data-v-33a50ee9]{width:100px;font-size:20px}",""])},j1NJ:function(e,t,a){var s=a("iKV2");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("XkoO")("34a7161a",s,!0)},jEUI:function(e,t,a){"use strict";var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-alert",{directives:[{name:"show",rawName:"v-show",value:e.error,expression:"error"}],attrs:{title:e.message,type:"error"}}),e._v(" "),a("DeployHeader",{ref:"nextStepTo"}),e._v(" "),a("BascMessage",{directives:[{name:"show",rawName:"v-show",value:1==e.step,expression:"step==1"}]}),e._v(" "),a("Allcation",{directives:[{name:"show",rawName:"v-show",value:2==e.step,expression:"step==2"}],on:{crea:e.createsecrit}}),e._v(" "),a("CreatSetting",{directives:[{name:"show",rawName:"v-show",value:3==e.step,expression:"step==3"}]}),e._v(" "),a("DeployStting",{directives:[{name:"show",rawName:"v-show",value:4==e.step,expression:"step==4"}]}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:4!=e.step,expression:"step!=4"}],staticClass:"btn110 mt20 ml110"},[a("el-button",[e._v("取消")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:e.step<4,expression:"step<4"}],attrs:{type:"primary"},on:{click:e.nextStep}},[e._v("下一步")]),e._v(" "),a("el-button",{directives:[{name:"show",rawName:"v-show",value:4==e.step,expression:"step==4"}],on:{click:e.save}},[e._v("创建")])],1)],1)},l=[],n={render:s,staticRenderFns:l};t.a=n},ljor:function(e,t,a){"use strict";var s=a("VUvn");t.a={props:{},created:function(){},ready:function(){},data:function(){return{radio:"2",activeName:"first",checked:!1,checkList:[],options:[{value:"1",label:"自动"},{value:"2",label:"手动"}],value:"1",options2:[{value:"milicores",label:"milicores"}],optionsInner:[{value:"MB",label:"MB"}],cpu_request_unit:"milicores",cpu_request_inner:"MB"}},components:{ElCol:s.a},filters:{},methods:{addrow:function(e){if(this.$parent.step4.config.labels.length-1==e){this.$parent.step4.config.labels.push({name:"",value:""})}},delrow:function(e){this.$parent.step4.config.labels.length>2&&this.$parent.step4.config.labels.splice(e,1)},handleClick:function(e,t){}},computed:{},watch:{}}},oKeB:function(e,t,a){"use strict";var s=a("4YfN"),l=a.n(s),n=a("bDQ5"),r=a("LHCn"),i=a("MRRe"),o=a("eFFn"),c=a("rRe7"),p=a("lQSI");t.a={name:"",data:function(){return{error:!1,message:"",template:{},secrets:{},secretsOptions:[],secretsVal:"",step:1,step1:{name:"",options:[],value:""},step2:{source_repository_ref:"Git",source_repository_url:"",source_repository_branch:"master",context_dir:""},step3:{labels:[],webhook:!0,autobuild:!0,firstbuild:!0},step4:{routing:{portOptions:[],port:"8080/TCP",host:"",path:""},config:{labels:[{name:"",value:""}],newImageIsAvailable:!0,deploymentConfigurationChanges:!0},scaling:{strategy:"自动",strategyLabels:[{label:"自动",value:"Manual"},{label:"手动",value:"Automatic"}],cpu:"80",minPod:"1",maxPod:"4"},resource:{cpu_request_inputValue:"",cpu_limit_inputValue:"",memory_request_inputValue:"",memory_limit_inputValue:"",cpu_request_unit:"milicores",cpu_limit_unit:"milicores",memory_request_unit:"Mib",memory_limit_unit:"Mib",options:[{value:"milicores",label:"milicores"}],options1:[{value:"Mib",label:"Mib"},{value:"Gi",label:"Gi"}]},labels:[]}}},created:function(){this.change(this.$route.path)},methods:l()({},a.i(p.c)(["change"]),{nextStep:function(){var e=this;if(1==this.step){if(""==this.step1.name)return this.error=!0,void(this.message="项目名称必须输入");if(""==this.step1.value)return this.error=!0,void(this.message="版本必须选择");this.check_save_deploy(function(){e.check_save_service(function(){e.error=!1,e.message="",e.$refs.nextStepTo.next(),e.step++})})}else if(2==this.step){if(""==this.step2.source_repository_ref)return this.error=!0,void(this.message="代码仓库源必须输入");if(""==this.step2.source_repository_url)return this.error=!0,void(this.message="代码仓库URL必须输入");this.error=!1,this.message="",this.$refs.nextStepTo.next(),this.step++}else this.step,this.error=!1,this.message="",this.$refs.nextStepTo.next(),this.step++},preStep:function(){this.$refs.nextStepTo.pre(),this.step--},getMib:function(e,t){return null==e||""==e?null:"Mib"==t?e+"Mi":e+"Gi"},getCpu:function(e){return null==e||""==e?null:1*e},s4:function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)},generateSecret:function(){return this.s4()+this.s4()+this.s4()+this.s4()},save:function(){var e=this;this.check_save_deploy(function(){e.check_save_service(function(){e.post_deploy()})})},check_save_deploy:function(e){var t=this;t.$ajax.get(t.$httpConfig.deploy_detail.replace("{projectName}",t.$route.params.disName).replace("{deployName}",t.step1.name)).then(function(a){a.data.code?e():t.$message({type:"error",message:"部署配置 '"+t.step1.name+"' 已经存在。"})}).catch(function(t){e()})},check_save_service:function(e){var t=this;t.$ajax.get(t.$httpConfig.service_detail.replace("{projectName}",t.$route.params.disName).replace("{serviceName}",t.step1.name)).then(function(a){a.data.code?e():t.$message({type:"error",message:"服务 '"+t.step1.name+"' 已经存在。"})}).catch(function(t){e()})},post_deploy:function(){var e=this,t={},a=e.step1.name+":"+(e.step1.value.indexOf("latest")>-1?"latest":e.step1.value);for(var s in e.step4.labels)s.name&&""!=s.name&&(t[s.name]=s.value);var l=t;l.deploymentconfig=e.step1.name;for(var n=e.step4.routing.port.split("/"),r=1*n[0],i=n.length>1?n[1]:"TCP",o=e.step3.labels,c=o.length-1;c>=0;c--)""==o[c].name&&o.splice(c,1);for(var p=e.step4.config.labels,c=p.length-1;c>=0;c--)""==p[c].name&&p.splice(c,1);var u={apiVersion:"v1",kind:"BuildConfig",metadata:{name:e.step1.name,labels:t,annotations:{"openshift.io/generated-by":"OpenShiftWebConsole"}},spec:{output:{to:{name:a,kind:"ImageStreamTag"}},source:{git:{ref:e.step2.source_repository_branch,uri:e.step2.source_repository_url},type:e.step2.source_repository_ref,sourceSecret:{name:e.secretsVal}},strategy:{type:"Source",sourceStrategy:{from:{kind:"ImageStreamTag",name:e.step1.name+":"+(e.step1.value.indexOf("latest")>-1?e.step1.value.replace(" - latest",""):e.step1.value),namespace:"openshift"},env:o}},triggers:[{generic:{secret:e.generateSecret()},type:"Generic"},{github:{secret:e.generateSecret()},type:"GitHub"},{imageChange:{},type:"ImageChange"},{type:"ConfigChange"}]}},m={apiVersion:"autoscaling/v1",kind:"HorizontalPodAutoscaler",metadata:{name:e.step1.name,labels:t,annotations:{"openshift.io/generated-by":"OpenShiftWebConsole"}},spec:{scaleTargetRef:{kind:"DeploymentConfig",name:e.step1.name,apiVersion:"extensions/v1beta1",subresource:"scale"},minReplicas:1*e.step4.scaling.minPod,maxReplicas:1*e.step4.scaling.maxPod,targetCPUUtilizationPercentage:e.step4.scaling.cpu/100*1250}},d={apiVersion:"v1",kind:"ImageStream",metadata:{name:e.step1.name,labels:t,annotations:{"openshift.io/generated-by":"OpenShiftWebConsole"}}},v={apiVersion:"v1",kind:"DeploymentConfig",metadata:{name:e.step1.name,labels:t,annotations:{"openshift.io/generated-by":"OpenShiftWebConsole"}},spec:{replicas:1,selector:{deploymentconfig:e.step1.name},triggers:[{type:"ImageChange",imageChangeParams:{automatic:!0,containerNames:[e.step1.name],from:{kind:"ImageStreamTag",name:a}}},{type:"ConfigChange"}],template:{metadata:{labels:l},spec:{containers:[{image:a,name:e.step1.name,ports:[{containerPort:r,protocol:i}],env:p,resources:{limits:{memory:e.getMib(e.step4.resource.memory_limit_inputValue,e.step4.resource.memory_limit_unit)}}}]}}}};""==e.step4.resource.memory_limit_inputValue&&e.step4.resource.cpu_limit_inputValue&&(v.spec.template.spec.resources={});var f={kind:"Service",apiVersion:"v1",metadata:{name:e.step1.name,labels:t,annotations:{"openshift.io/generated-by":"OpenShiftWebConsole"}},spec:{selector:{deploymentconfig:e.step1.name},ports:[{port:r,targetPort:r,protocol:i,name:r+"-"+i.toLocaleLowerCase()}]}},h={kind:"Route",apiVersion:"v1",metadata:{name:e.step1.name,labels:t,annotations:{"openshift.io/generated-by":"OpenShiftWebConsole"}},spec:{to:{kind:"Service",name:e.step1.name},wildcardPolicy:"None",host:e.step1.host,path:e.step1.context_dir,port:{targetPort:r+"-"+i.toLocaleLowerCase()}}};e.save_buildconfigs(u,function(){e.save_imageStream(d,function(){e.save_autoscaler(m,function(){e.save_deploy(v,function(){e.save_service(f,function(){e.save_route(h,function(){e.$message({type:"success",message:"创建成功!"}),e.$router.push({name:"服务部署"})})})})})})})},save_buildconfigs:function(e,t){var a=this;a.$ajax.post(a.$httpConfig.buildconfigs.replace("{projectName}",a.$route.params.disName),e).then(function(e){e.data.message?a.$message({type:"error",message:"不能创建代码构建 '"+a.deployName+"'. 原因:"+e.data.message}):t()}).catch(function(e){a.$message({type:"error",message:"创建失败!"})})},save_imageStream:function(e,t){var a=this;a.$ajax.post(a.$httpConfig.images.replace("{projectName}",a.$route.params.disName),e).then(function(e){e.data.message?a.$message({type:"error",message:"不能创建代码构建 '"+a.deployName+"'. 原因:"+e.data.message}):t()}).catch(function(e){a.$message({type:"error",message:"创建失败!"})})},save_autoscaler:function(e,t){var a=this;""==a.step4.scaling.maxPod?t():a.$ajax.post(a.$httpConfig.horizontalpodautoscalers.replace("{projectName}",a.$route.params.disName),e).then(function(e){e.data.message?a.$message({type:"error",message:"不能创建代码构建 '"+a.deployName+"'. 原因:"+e.data.message}):t()}).catch(function(e){a.$message({type:"error",message:"创建失败!"})})},save_deploy:function(e,t){var a=this;a.$ajax.post(a.$httpConfig.deploymentconfigs.replace("{projectName}",a.$route.params.disName),e).then(function(e){e.data.message?a.$message({type:"error",message:"不能创建代码构建 '"+a.deployName+"'. 原因:"+e.data.message}):t()}).catch(function(e){a.$message({type:"error",message:"创建失败!"})})},save_service:function(e,t){var a=this;a.$ajax.post(a.$httpConfig.services.replace("{projectName}",a.$route.params.disName),e).then(function(e){e.data.message?a.$message({type:"error",message:"不能创建代码构建 '"+a.deployName+"'. 原因:"+e.data.message}):t()}).catch(function(e){a.$message({type:"error",message:"创建失败!"})})},save_route:function(e,t){var a=this;a.$ajax.post(a.$httpConfig.routes.replace("{projectName}",a.$route.params.disName),e).then(function(e){e.data.message?a.$message({type:"error",message:"不能创建代码构建 '"+a.deployName+"'. 原因:"+e.data.message}):t()}).catch(function(e){a.$message({type:"error",message:"创建失败!"})})},createsecrit:function(){this.$router.push({name:"创建私密凭据"})}}),beforeMount:function(){var e=this;this.$ajax.get(this.$httpConfig.secrets.replace("{projectName}",e.$route.params.disName)).then(function(t){for(var a={},s=[],l="",n=t.data.items,r=0;r<n.length;r++)a[n[r].metadata.name]=n[r],"kubernetes.io/basic-auth"==n[r].type&&s.push({label:n[r].metadata.name,value:n[r].metadata.name});s.length>0&&(l=s[0].label),e.$set(e,"secrets",a),e.$set(e,"secretsOptions",s),e.$set(e,"secretsVal",l)}).catch(function(e){console.log(e)}),this.$ajax.get(this.$httpConfig.imagestreams_detail.replace("{name}",e.$route.query.name)).then(function(t){e.$set(e,"template",t.data),console.log(t.data);var a={options:[],value:"",name:""};a.language=t.data.metadata.annotations["openshift.io/display-name"];var s=t.data.spec.tags;if(s){for(var l="",n=0;n<s.length;n++)"latest"!=s[n].name?a.options.push({label:s[n].annotations.version,value:s[n].annotations.version}):l=s[n].from.name;for(var n=0;n<a.options.length;n++)if(a.options[n].value==l){a.options[n].label+=" - latest";break}a.value=a.options[a.options.length-1].label}e.$set(e,"step1",a),e.step4.labels.push({name:"app",value:t.data.metadata.annotations["openshift.io/display-name"]}),e.step4.labels.push({name:"",value:""});var r={labels:[],webhook:!0,autobuild:!0,firstbuild:!0};r.labelDefaultSize=0,r.labels.push({name:"",value:""}),e.$set(e,"step3",r)}).catch(function(e){console.log(e)})},components:{DeployHeader:n.default,BascMessage:i.default,Allcation:r.default,CreatSetting:o.default,DeployStting:c.default}}},pELT:function(e,t,a){"use strict";t.a={props:{},created:function(){},ready:function(){},data:function(){return{}},components:{},filters:{},methods:{},computed:{},watch:{}}},rRe7:function(e,t,a){"use strict";function s(e){a("wOJv")}Object.defineProperty(t,"__esModule",{value:!0});var l=a("ljor"),n=a("gPos"),r=a("J0+h"),i=s,o=r(l.a,n.a,i,"data-v-285019a5",null);t.default=o.exports},s8Px:function(e,t,a){"use strict";function s(e){a("LCMb")}Object.defineProperty(t,"__esModule",{value:!0});var l=a("oKeB"),n=a("jEUI"),r=a("J0+h"),i=s,o=r(l.a,n.a,i,"data-v-1967b76a",null);t.default=o.exports},shKw:function(e,t,a){"use strict";t.a={props:{},created:function(){},ready:function(){},data:function(){return{checkList:[],options:[{value:"milicores",label:"milicores"}],cpu_request_unit:"milicores",radio:"2"}},components:{},filters:{},methods:{addrow:function(e){if(this.$parent.step3.labels.length-1==e){this.$parent.step3.labels.push({name:"",value:""})}},delrow:function(e){this.$parent.step3.labels.length>this.$parent.step3.labelDefaultSize+1&&this.$parent.step3.labels.splice(e,1)}},computed:{},watch:{}}},sq06:function(e,t,a){t=e.exports=a("YfG4")(!1),t.push([e.i,".ml110[data-v-1967b76a]{margin-left:110px}",""])},tOct:function(e,t,a){var s=a("fThN");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("XkoO")("7690c46d",s,!0)},wOJv:function(e,t,a){var s=a("O3A+");"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);a("XkoO")("0947858c",s,!0)}});