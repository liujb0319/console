webpackJsonp([94],{"158O":function(t,a,e){"use strict";var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"projects"},[e("el-form",{staticClass:"limit-input projects-list"},[e("el-form-item",[e("h2",{staticClass:"f16"},[t._v("编辑项目"+t._s(t.metadata.name))]),t._v(" "),e("small",[t._v("修改显示名称和项目描述，项目独立名称不能修改。")])]),t._v(" "),e("el-form-item",{attrs:{prop:"displayName"}},[e("h3",{},[t._v("显示名称")]),t._v(" "),e("div",{staticClass:"names "},[e("el-input",{attrs:{placeholder:"显示名称"},model:{value:t.displayName,callback:function(a){t.displayName=a},expression:"displayName"}})],1)]),t._v(" "),e("el-form-item",[e("h3",{},[t._v("描述")]),t._v(" "),e("div",{staticClass:"describe"},[e("el-input",{staticClass:"describe-project",attrs:{rows:6,type:"textarea",placeholder:"项目描述"},model:{value:t.description,callback:function(a){t.description=a},expression:"description"}})],1)]),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(a){t.edit(t.metadata.name)}}},[t._v("保存")]),t._v(" "),e("el-button",{on:{click:t.cancel}},[t._v("取消")])],1)],1)],1)},s=[],n={render:i,staticRenderFns:s};a.a=n},"3UZu":function(t,a,e){a=t.exports=e("YfG4")(!1),a.push([t.i,".mt8{display:inline-block;margin-top:8px}.projects{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;vertical-align:middle;background-color:#f1f1f1;min-height:calc(100vh - 60px);margin-top:60px;padding-top:30px;font-family:\\\\5FAE\\8F6F\\96C5\\9ED1;color:#333}.has-error{color:#ff4949!important}.projects-list .el-form-item__content{width:900px;line-height:18px;position:relative;font-size:14px}.projects-list .el-textarea__inner{width:900px!important}.projects-list .el-input,.projects-list .el-input__inner{width:900px}",""])},NqlB:function(t,a,e){var i=e("3UZu");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);e("XkoO")("2e4bc83e",i,!0)},jb9Y:function(t,a,e){"use strict";a.a={props:{},components:{},data:function(){return{metadata:{},displayName:"获取中！",description:"",uid:"",selfLink:"",RVer:0,editname:"",datas:{}}},created:function(){this.getData()},methods:{getData:function(){var t=this;this.editname=this.$route.params.editName,this.$ajax({method:"get",url:this.$httpConfig.projects_data.replace("{projectName}",this.editname)}).then(function(a){a=JSON.parse(a.request.response),console.log("asdasdasd",a),t.metadata=a.metadata,t.displayName=a.metadata.annotations["openshift.io/display-name"],t.description=a.metadata.annotations["openshift.io/description"],t.datas=a,t.RVer=a.metadata.resourceVersion}).catch(function(t){console.log("项目编辑获取数据失败",t)})},edit:function(t){var a=this;this.$ajax({method:"put",url:this.$httpConfig.projects_data.replace("{projectName}",this.editname),data:{kind:this.datas.kind,apiVersion:this.datas.apiVersion,metadata:{name:this.editname,selfLink:this.datas.metadata.selfLink,uid:this.datas.metadata.uid,resourceVersion:this.RVer,creationTimestamp:this.datas.metadata.creationTimestamp,annotations:{"openshift.io/description":this.description,"openshift.io/display-name":this.displayName,"openshift.io/requester":this.datas.metadata.annotations["openshift.io/requester"],"openshift.io/sa.scc.mcs":this.datas.metadata.annotations["openshift.io/sa.scc.mcs"],"openshift.io/sa.scc.supplemental-groups":this.datas.metadata.annotations["openshift.io/sa.scc.supplemental-groups"],"openshift.io/sa.scc.uid-range":this.datas.metadata.annotations["openshift.io/sa.scc.uid-range"]}},spec:{finalizers:this.datas.finalizers},status:{phase:this.datas.status.phase}}}).then(function(t){console.log("项目列表编辑结果",t),t.data.code?alert("内容有误或权限不够！"):a.$router.push({name:"console"})}).catch(function(t){console.log("项目列表编辑失败",t)})},cancel:function(){this.$router.go(-1)}}}},"t+a2":function(t,a,e){"use strict";function i(t){e("NqlB")}Object.defineProperty(a,"__esModule",{value:!0});var s=e("jb9Y"),n=e("158O"),o=e("J0+h"),r=i,c=o(s.a,n.a,r,null,null);a.default=c.exports}});