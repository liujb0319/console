webpackJsonp([108],{"7YAD":function(t,e,a){"use strict";e.a={props:{},created:function(){},ready:function(){},data:function(){return{ruleForm:{resource:"100Mib"},rules:{resource:[{required:!0,message:"请选择存储内存"}]},path:"/data",storeName:" ",postdata:{}}},components:{},filters:{},methods:{onCancel:function(){this.$router.go(-1)},onSubmit:function(){var t=this;console.log(t.$route);var e=t.postdata;e.spec.template.spec.containers[0].volumeMounts||(e.spec.template.spec.containers[0].volumeMounts=[]),e.spec.template.spec.containers[0].volumeMounts.push({name:t.storeName,mountPath:t.path}),e.spec.template.spec.volumes||(e.spec.template.spec.volumes=[]),e.spec.template.spec.volumes.push({name:t.storeName}),this.$ajax.put(t.$httpConfig.deploy_detail.replace("{projectName}",t.$route.params.disName).replace("{deployName}",t.$route.query.deploy),e).then(function(e){t.$message({type:"success",message:"保存成功!"}),t.$router.go(-1)}).catch(function(e){console.log(e),t.$message({type:"error",message:"保存失败!"})})}},beforeMount:function(){var t=this;this.$ajax.get(t.$httpConfig.deploy_detail.replace("{projectName}",t.$route.params.disName).replace("{deployName}",t.$route.query.deploy)).then(function(e){console.log(e.data);var a=e.data;t.$set(t,"postdata",a)}).catch(function(t){console.log(t)})},computed:{},watch:{}}},Mxre:function(t,e,a){"use strict";function s(t){a("t1VE")}Object.defineProperty(e,"__esModule",{value:!0});var o=a("7YAD"),l=a("NcOF"),r=a("J0+h"),i=s,c=r(o.a,l.a,i,"data-v-6ddd5a0e",null);e.default=c.exports},NcOF:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"content-title"},[t._v("添加存储")]),t._v(" "),a("div",{staticClass:"tips mt20"},[t._v("添加已存在的持久化存储请求到部署配置Tomcat的模板")]),t._v(" "),a("div",{staticClass:"store"},[a("el-form",{ref:"ruleForm",attrs:{model:t.ruleForm,rules:t.rules}},[a("el-form-item",{staticClass:"mt10 width720 pdr20",attrs:{label:"存储",prop:"resource"}},[a("div",[a("el-radio-group",{model:{value:t.ruleForm.resource,callback:function(e){t.ruleForm.resource=e},expression:"ruleForm.resource"}},[a("el-radio",{attrs:{label:"100Mib"}})],1),t._v(" "),a("span",[t._v("(读-写-独占)")]),t._v(" "),a("span",{staticClass:"ml40"},[t._v(" Bound to Valume pvc-2a6580e8-7664-11e7-b035-0050568cc9dc")])],1)]),t._v(" "),a("div",{staticClass:"ml10"},[t._v("选择存储，或 "),a("span",{staticClass:"bluewords f14"},[t._v("创建新的存储")])]),t._v(" "),a("div",{staticClass:"mt20"},[a("span",{staticClass:"store-title"},[t._v("存储卷")]),a("span",{staticClass:"tips"},[t._v("设置如何在容器内挂载存储器")])]),t._v(" "),a("el-form-item",{staticClass:"mt10",attrs:{label:"挂载路径："}},[a("el-input",{staticClass:"my-input",model:{value:t.path,callback:function(e){t.path=e},expression:"path"}}),t._v(" "),a("div",{staticClass:"tips ml80 mt10"},[t._v("在容器内挂载存储器的路径,如果不指定,存储卷不会自动挂载")])],1),t._v(" "),a("el-form-item",{attrs:{label:"存储卷名："}},[a("el-input",{staticClass:"my-input",model:{value:t.storeName,callback:function(e){t.storeName=e},expression:"storeName"}}),t._v(" "),a("div",{staticClass:"tips ml80 mt10"},[t._v("存储卷的唯一识别名称,如果不指定,存储卷名将自动生成")])],1),t._v(" "),a("div",{staticClass:"mt20 ml10"},[t._v("存储卷将挂载到所有容器里,可以要挂载的 "),a("span",{staticClass:"bluewords f14"},[t._v("容器")])]),t._v(" "),a("div",{staticClass:"mt20"},[a("span",{staticClass:"store-title"},[t._v("容器 ")]),a("span",{staticClass:"tips"},[t._v("添加存储到下列容器")])]),t._v(" "),a("el-form-item",{staticClass:"form-item-bottom ineh-normal"},[a("el-checkbox",{staticClass:"mt20",attrs:{label:"tomcat from image registry.example.com/jboss-webserver-3/webserver30-tomcat8-openshift.latest",name:"type"}})],1),t._v(" "),a("div",[a("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("添加")]),t._v(" "),a("el-button",{staticClass:"cancel",on:{click:t.onCancel}},[t._v("取消")])],1)],1)],1)])},o=[],l={render:s,staticRenderFns:o};e.a=l},qMcu:function(t,e,a){e=t.exports=a("YfG4")(!1),e.push([t.i,".my-input[data-v-6ddd5a0e]{width:350px}.store-title[data-v-6ddd5a0e]{padding-right:20px;font-size:18px}.width720[data-v-6ddd5a0e]{width:720px;text-align:left}.el-button[data-v-6ddd5a0e]{width:120px;margin-top:30px;height:40px}.ml70[data-v-6ddd5a0e]{margin-left:70px}.ml80[data-v-6ddd5a0e]{margin-left:80px}.el-radio[data-v-6ddd5a0e]{margin-right:40px}.ml40[data-v-6ddd5a0e]{margin-left:40px}",""])},t1VE:function(t,e,a){var s=a("qMcu");"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a("XkoO")("137c54b6",s,!0)}});