webpackJsonp([80],{"B/Jz":function(t,e,l){"use strict";function i(t){l("KGoJ")}Object.defineProperty(e,"__esModule",{value:!0});var a=l("NJPI"),s=l("S5KY"),o=l("J0+h"),n=i,u=o(a.a,s.a,n,"data-v-38c48d55",null);e.default=u.exports},KGoJ:function(t,e,l){var i=l("RSfx");"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);l("XkoO")("2f0e8e77",i,!0)},NJPI:function(t,e,l){"use strict";var i=l("4YfN"),a=l.n(i),s=l("lQSI");e.a={props:{},created:function(){this.change(this.$route.path)},ready:function(){},data:function(){return{postdata:{},limitranges:{},options:[{value:"milicores",label:"milicores"}],cpu_request_unit:"milicores",cpu_limit_unit:"milicores",memory_request_unit:"milicores",memory_limit_unit:"milicores",cpu_request_inputValue:"",cpu_limit_inputValue:"",memory_request_inputValue:"",memory_limit_inputValue:""}},beforeMount:function(){var t=this;this.$ajax.get(t.$httpConfig.deploy_detail.replace("{projectName}",t.$route.params.disName).replace("{deployName}",t.$route.query.deploy)).then(function(e){console.log(e.data);var l=e.data;t.$set(t,"postdata",l),t.$set(t,"cpu_limit_inputValue",l.spec.template.spec.containers[0].resources.limits.memory),t.$set(t,"memory_limit_inputValue",l.spec.template.spec.containers[0].resources.limits.cpu),t.$set(t,"cpu_request_inputValue",l.spec.template.spec.containers[0].resources.requests.memory),t.$set(t,"memory_request_inputValue",l.spec.template.spec.containers[0].resources.requests.cpu)}).catch(function(t){console.log(t)}),this.$ajax.get(t.$httpConfig.limitranges.replace("{projectName}",t.$route.params.disName)).then(function(e){console.log(e.data);var l=e.data;t.$set(t,"limitranges",l)}).catch(function(t){console.log(t)})},components:{},filters:{},methods:a()({},l.i(s.c)(["change"]),{onSubmit:function(){var t=this;console.log(t.$route);var e=t.postdata;e.spec.template.spec.containers[0].resources.limits={memory:t.cpu_limit_inputValue,cpu:t.memory_limit_inputValue},e.spec.template.spec.containers[0].resources.requests={memory:t.cpu_request_inputValue,cpu:t.memory_request_inputValue},this.$ajax.put(t.$httpConfig.deploy_detail.replace("{projectName}",t.$route.params.disName).replace("{deployName}",t.$route.query.deploy),e).then(function(e){console.log("submited!"),console.log(e),t.$router.go(-1)}).catch(function(t){console.log("submit error!"),console.log(t)})},onCancel:function(){this.$router.go(-1)}}),computed:{},watch:{}}},RSfx:function(t,e,l){e=t.exports=l("YfG4")(!1),e.push([t.i,".el-top-botom-30[data-v-38c48d55]{margin:30px}.el-left[data-v-38c48d55]{margin-left:20px}.el-font[data-v-38c48d55]{font-size:20px;color:#333}.limit-top-10[data-v-38c48d55]{margin-top:10px;margin-left:50px}.limit-middle[data-v-38c48d55]{width:50px;text-align:left;font-size:14px;color:#333}.el-input[data-v-38c48d55]{width:350px}p[class=tips][data-v-38c48d55]{margin-left:50px}.limit-button[data-v-38c48d55]{background:#ff9832;color:#fff;width:120px}.limit-button-cancle[data-v-38c48d55]{width:120px}.el-select[data-v-38c48d55]{width:150px;margin-left:20px}",""])},S5KY:function(t,e,l){"use strict";var i=function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("div",{staticClass:"content-title"},[t._v(" 资源限制："+t._s(t.$route.query.deploy))]),t._v(" "),l("div",{staticClass:"content-container"},[t._m(0),t._v(" "),l("div",{staticClass:"el-font mt20"},[t._v("CPU")]),t._v(" "),l("el-row",{staticClass:"mt10"},[l("el-col",{staticClass:"limit-middle mt8"},[t._v(" 请求：")]),t._v(" "),l("el-input",{attrs:{placeholder:""},model:{value:t.cpu_request_inputValue,callback:function(e){t.cpu_request_inputValue=e},expression:"cpu_request_inputValue"}}),t._v(" "),l("el-select",{model:{value:t.cpu_request_unit,callback:function(e){t.cpu_request_unit=e},expression:"cpu_request_unit"}},t._l(t.options,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),l("p",{staticClass:"tips"},[t._v("容器请求的CPU数量")]),t._v(" "),l("el-row",{staticClass:"mt10"},[l("el-col",{staticClass:"limit-middle mt8"},[t._v(" 限制：")]),t._v(" "),l("el-input",{attrs:{placeholder:""},model:{value:t.cpu_limit_inputValue,callback:function(e){t.cpu_limit_inputValue=e},expression:"cpu_limit_inputValue"}}),t._v(" "),l("el-select",{model:{value:t.cpu_limit_unit,callback:function(e){t.cpu_limit_unit=e},expression:"cpu_limit_unit"}},t._l(t.options,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),l("p",{staticClass:"tips"},[t._v("容器限制请求的CPU数量")]),t._v(" "),l("p",{staticClass:"el-font "},[t._v("内存")]),t._v(" "),l("el-row",{staticClass:"mt10"},[l("el-col",{staticClass:"limit-middle mt8"},[t._v(" 请求：")]),t._v(" "),l("el-input",{attrs:{placeholder:""},model:{value:t.memory_request_inputValue,callback:function(e){t.memory_request_inputValue=e},expression:"memory_request_inputValue"}}),t._v(" "),l("el-select",{model:{value:t.memory_request_unit,callback:function(e){t.memory_request_unit=e},expression:"memory_request_unit"}},t._l(t.options,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),l("p",{staticClass:"tips"},[t._v("容器请求的内存数量")]),t._v(" "),l("el-row",{staticClass:"mt10"},[l("el-col",{staticClass:"limit-middle mt8"},[t._v(" 限制：")]),t._v(" "),l("el-input",{attrs:{placeholder:""},model:{value:t.memory_limit_inputValue,callback:function(e){t.memory_limit_inputValue=e},expression:"memory_limit_inputValue"}}),t._v(" "),l("el-select",{staticClass:"width150",model:{value:t.memory_limit_unit,callback:function(e){t.memory_limit_unit=e},expression:"memory_limit_unit"}},t._l(t.options,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),l("p",{staticClass:"tips"},[t._v("容器限制请求的内存数量")]),t._v(" "),l("el-button",{staticClass:"limit-top-10 limit-button",on:{click:t.onSubmit}},[t._v("保存")]),t._v(" "),l("el-button",{staticClass:"limit-top-10 limit-button-cancle shade-button",on:{click:t.onCancel}},[t._v("取消")])],1)])},a=[function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",[l("span",{staticClass:"tips"},[t._v("\n\t      \t资源限制控制一个容器在一个节点上消耗的cpu和内存大小。\n\t    \t")]),t._v(" "),l("span",{staticClass:"bluewords ml20"},[t._v("\n\t       \t 点击了解更多\n\t      ")])])}],s={render:i,staticRenderFns:a};e.a=s}});